{"dependencies":[{"name":"./CanvasKitWebGLBufferImpl","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":602},"end":{"line":4,"column":70,"index":672}}],"key":"y3rJnmArlf7NGDqFDnjogJJQDw4=","exportNames":["*"],"imports":1}},{"name":"./JsiSkImageFactory","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":673},"end":{"line":5,"column":56,"index":729}}],"key":"orJVjKA7eKpKgOM8dE8JQ/Gzh98=","exportNames":["*"],"imports":1}},{"name":"./Host","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":730},"end":{"line":6,"column":52,"index":782}}],"key":"BQhWeBRDaUSxZaA5iU6wGzQsFFs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createVideo\", {\n    enumerable: true,\n    get: function () {\n      return createVideo;\n    }\n  });\n  Object.defineProperty(exports, \"JsiVideo\", {\n    enumerable: true,\n    get: function () {\n      return JsiVideo;\n    }\n  });\n  var _CanvasKitWebGLBufferImpl = require(_dependencyMap[0], \"./CanvasKitWebGLBufferImpl\");\n  var _JsiSkImageFactory = require(_dependencyMap[1], \"./JsiSkImageFactory\");\n  var _Host = require(_dependencyMap[2], \"./Host\");\n  function _defineProperty(e, r, t) {\n    return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n      value: t,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : e[r] = t, e;\n  }\n  function _toPropertyKey(t) {\n    var i = _toPrimitive(t, \"string\");\n    return \"symbol\" == typeof i ? i : i + \"\";\n  }\n  function _toPrimitive(t, r) {\n    if (\"object\" != typeof t || !t) return t;\n    var e = t[Symbol.toPrimitive];\n    if (void 0 !== e) {\n      var i = e.call(t, r || \"default\");\n      if (\"object\" != typeof i) return i;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (\"string\" === r ? String : Number)(t);\n  }\n  const createVideo = async (CanvasKit, url) => {\n    const video = document.createElement(\"video\");\n    return new Promise((resolve, reject) => {\n      video.src = url;\n      video.style.display = \"none\";\n      video.crossOrigin = \"anonymous\";\n      video.volume = 0;\n      video.addEventListener(\"loadedmetadata\", () => {\n        document.body.appendChild(video);\n        resolve(new JsiVideo(new _JsiSkImageFactory.JsiSkImageFactory(CanvasKit), video));\n      });\n      video.addEventListener(\"error\", () => {\n        reject(new Error(`Failed to load video from URL: ${url}`));\n      });\n    });\n  };\n  class JsiVideo {\n    constructor(ImageFactory, videoElement) {\n      this.ImageFactory = ImageFactory;\n      this.videoElement = videoElement;\n      _defineProperty(this, \"__typename__\", \"Video\");\n      _defineProperty(this, \"webglBuffer\", null);\n      document.body.appendChild(this.videoElement);\n    }\n    duration() {\n      return this.videoElement.duration * 1000;\n    }\n    framerate() {\n      return (0, _Host.throwNotImplementedOnRNWeb)();\n    }\n    setSurface(surface) {\n      // If we have the surface, we can use the WebGL buffer which is slightly faster\n      // This is because WebGL cannot be shared across contextes.\n      // This can be removed with WebGPU\n      this.webglBuffer = new _CanvasKitWebGLBufferImpl.CanvasKitWebGLBufferImpl(surface, this.videoElement);\n    }\n    nextImage() {\n      return this.ImageFactory.MakeImageFromNativeBuffer(this.webglBuffer ? this.webglBuffer : this.videoElement);\n    }\n    seek(time) {\n      if (isNaN(time)) {\n        throw new Error(`Invalid time: ${time}`);\n      }\n      this.videoElement.currentTime = time / 1000;\n    }\n    rotation() {\n      return 0;\n    }\n    size() {\n      return {\n        width: this.videoElement.videoWidth,\n        height: this.videoElement.videoHeight\n      };\n    }\n    pause() {\n      this.videoElement.pause();\n    }\n    play() {\n      this.videoElement.play();\n    }\n    setVolume(volume) {\n      this.videoElement.volume = volume;\n    }\n    [Symbol.dispose]() {\n      if (this.videoElement.parentNode) {\n        this.videoElement.parentNode.removeChild(this.videoElement);\n      }\n    }\n    dispose() {\n      this[Symbol.dispose]();\n    }\n  }\n});","lineCount":116,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"createVideo"],[10,24,7,0],[11,4,7,0],[12,2,7,0],[13,2,23,0,"Object"],[13,8,23,0],[13,9,23,0,"defineProperty"],[13,23,23,0],[13,24,23,0,"exports"],[13,31,23,0],[14,4,23,0,"enumerable"],[14,14,23,0],[15,4,23,0,"get"],[15,7,23,0],[15,18,23,0,"get"],[15,19,23,0],[16,6,23,0],[16,13,23,0,"JsiVideo"],[16,21,23,0],[17,4,23,0],[18,2,23,0],[19,2,4,0],[19,6,4,0,"_CanvasKitWebGLBufferImpl"],[19,31,4,0],[19,34,4,0,"require"],[19,41,4,0],[19,42,4,0,"_dependencyMap"],[19,56,4,0],[20,2,5,0],[20,6,5,0,"_JsiSkImageFactory"],[20,24,5,0],[20,27,5,0,"require"],[20,34,5,0],[20,35,5,0,"_dependencyMap"],[20,49,5,0],[21,2,6,0],[21,6,6,0,"_Host"],[21,11,6,0],[21,14,6,0,"require"],[21,21,6,0],[21,22,6,0,"_dependencyMap"],[21,36,6,0],[22,2,1,0],[22,11,1,9,"_defineProperty"],[22,26,1,24,"_defineProperty"],[22,27,1,25,"e"],[22,28,1,26],[22,30,1,28,"r"],[22,31,1,29],[22,33,1,31,"t"],[22,34,1,32],[22,36,1,34],[23,4,1,36],[23,11,1,43],[23,12,1,44,"r"],[23,13,1,45],[23,16,1,48,"_toPropertyKey"],[23,30,1,62],[23,31,1,63,"r"],[23,32,1,64],[23,33,1,65],[23,38,1,70,"e"],[23,39,1,71],[23,42,1,74,"Object"],[23,48,1,80],[23,49,1,81,"defineProperty"],[23,63,1,95],[23,64,1,96,"e"],[23,65,1,97],[23,67,1,99,"r"],[23,68,1,100],[23,70,1,102],[24,6,1,104,"value"],[24,11,1,109],[24,13,1,111,"t"],[24,14,1,112],[25,6,1,114,"enumerable"],[25,16,1,124],[25,18,1,126],[25,19,1,127],[25,20,1,128],[26,6,1,130,"configurable"],[26,18,1,142],[26,20,1,144],[26,21,1,145],[26,22,1,146],[27,6,1,148,"writable"],[27,14,1,156],[27,16,1,158],[27,17,1,159],[28,4,1,161],[28,5,1,162],[28,6,1,163],[28,9,1,166,"e"],[28,10,1,167],[28,11,1,168,"r"],[28,12,1,169],[28,13,1,170],[28,16,1,173,"t"],[28,17,1,174],[28,19,1,176,"e"],[28,20,1,177],[29,2,1,179],[30,2,2,0],[30,11,2,9,"_toPropertyKey"],[30,25,2,23,"_toPropertyKey"],[30,26,2,24,"t"],[30,27,2,25],[30,29,2,27],[31,4,2,29],[31,8,2,33,"i"],[31,9,2,34],[31,12,2,37,"_toPrimitive"],[31,24,2,49],[31,25,2,50,"t"],[31,26,2,51],[31,28,2,53],[31,36,2,61],[31,37,2,62],[32,4,2,64],[32,11,2,71],[32,19,2,79],[32,23,2,83],[32,30,2,90,"i"],[32,31,2,91],[32,34,2,94,"i"],[32,35,2,95],[32,38,2,98,"i"],[32,39,2,99],[32,42,2,102],[32,44,2,104],[33,2,2,106],[34,2,3,0],[34,11,3,9,"_toPrimitive"],[34,23,3,21,"_toPrimitive"],[34,24,3,22,"t"],[34,25,3,23],[34,27,3,25,"r"],[34,28,3,26],[34,30,3,28],[35,4,3,30],[35,8,3,34],[35,16,3,42],[35,20,3,46],[35,27,3,53,"t"],[35,28,3,54],[35,32,3,58],[35,33,3,59,"t"],[35,34,3,60],[35,36,3,62],[35,43,3,69,"t"],[35,44,3,70],[36,4,3,72],[36,8,3,76,"e"],[36,9,3,77],[36,12,3,80,"t"],[36,13,3,81],[36,14,3,82,"Symbol"],[36,20,3,88],[36,21,3,89,"toPrimitive"],[36,32,3,100],[36,33,3,101],[37,4,3,103],[37,8,3,107],[37,13,3,112],[37,14,3,113],[37,19,3,118,"e"],[37,20,3,119],[37,22,3,121],[38,6,3,123],[38,10,3,127,"i"],[38,11,3,128],[38,14,3,131,"e"],[38,15,3,132],[38,16,3,133,"call"],[38,20,3,137],[38,21,3,138,"t"],[38,22,3,139],[38,24,3,141,"r"],[38,25,3,142],[38,29,3,146],[38,38,3,155],[38,39,3,156],[39,6,3,158],[39,10,3,162],[39,18,3,170],[39,22,3,174],[39,29,3,181,"i"],[39,30,3,182],[39,32,3,184],[39,39,3,191,"i"],[39,40,3,192],[40,6,3,194],[40,12,3,200],[40,16,3,204,"TypeError"],[40,25,3,213],[40,26,3,214],[40,72,3,260],[40,73,3,261],[41,4,3,263],[42,4,3,265],[42,11,3,272],[42,12,3,273],[42,20,3,281],[42,25,3,286,"r"],[42,26,3,287],[42,29,3,290,"String"],[42,35,3,296],[42,38,3,299,"Number"],[42,44,3,305],[42,46,3,307,"t"],[42,47,3,308],[42,48,3,309],[43,2,3,311],[44,2,7,7],[44,8,7,13,"createVideo"],[44,19,7,24],[44,22,7,27],[44,28,7,27,"createVideo"],[44,29,7,34,"CanvasKit"],[44,38,7,43],[44,40,7,45,"url"],[44,43,7,48],[44,48,7,53],[45,4,8,2],[45,10,8,8,"video"],[45,15,8,13],[45,18,8,16,"document"],[45,26,8,24],[45,27,8,25,"createElement"],[45,40,8,38],[45,41,8,39],[45,48,8,46],[45,49,8,47],[46,4,9,2],[46,11,9,9],[46,15,9,13,"Promise"],[46,22,9,20],[46,23,9,21],[46,24,9,22,"resolve"],[46,31,9,29],[46,33,9,31,"reject"],[46,39,9,37],[46,44,9,42],[47,6,10,4,"video"],[47,11,10,9],[47,12,10,10,"src"],[47,15,10,13],[47,18,10,16,"url"],[47,21,10,19],[48,6,11,4,"video"],[48,11,11,9],[48,12,11,10,"style"],[48,17,11,15],[48,18,11,16,"display"],[48,25,11,23],[48,28,11,26],[48,34,11,32],[49,6,12,4,"video"],[49,11,12,9],[49,12,12,10,"crossOrigin"],[49,23,12,21],[49,26,12,24],[49,37,12,35],[50,6,13,4,"video"],[50,11,13,9],[50,12,13,10,"volume"],[50,18,13,16],[50,21,13,19],[50,22,13,20],[51,6,14,4,"video"],[51,11,14,9],[51,12,14,10,"addEventListener"],[51,28,14,26],[51,29,14,27],[51,45,14,43],[51,47,14,45],[51,53,14,51],[52,8,15,6,"document"],[52,16,15,14],[52,17,15,15,"body"],[52,21,15,19],[52,22,15,20,"appendChild"],[52,33,15,31],[52,34,15,32,"video"],[52,39,15,37],[52,40,15,38],[53,8,16,6,"resolve"],[53,15,16,13],[53,16,16,14],[53,20,16,18,"JsiVideo"],[53,28,16,26],[53,29,16,27],[53,33,16,31,"JsiSkImageFactory"],[53,51,16,48],[53,52,16,48,"JsiSkImageFactory"],[53,69,16,48],[53,70,16,49,"CanvasKit"],[53,79,16,58],[53,80,16,59],[53,82,16,61,"video"],[53,87,16,66],[53,88,16,67],[53,89,16,68],[54,6,17,4],[54,7,17,5],[54,8,17,6],[55,6,18,4,"video"],[55,11,18,9],[55,12,18,10,"addEventListener"],[55,28,18,26],[55,29,18,27],[55,36,18,34],[55,38,18,36],[55,44,18,42],[56,8,19,6,"reject"],[56,14,19,12],[56,15,19,13],[56,19,19,17,"Error"],[56,24,19,22],[56,25,19,23],[56,59,19,57,"url"],[56,62,19,60],[56,64,19,62],[56,65,19,63],[56,66,19,64],[57,6,20,4],[57,7,20,5],[57,8,20,6],[58,4,21,2],[58,5,21,3],[58,6,21,4],[59,2,22,0],[59,3,22,1],[60,2,23,7],[60,8,23,13,"JsiVideo"],[60,16,23,21],[60,17,23,22],[61,4,24,2,"constructor"],[61,15,24,13,"constructor"],[61,16,24,14,"ImageFactory"],[61,28,24,26],[61,30,24,28,"videoElement"],[61,42,24,40],[61,44,24,42],[62,6,25,4],[62,10,25,8],[62,11,25,9,"ImageFactory"],[62,23,25,21],[62,26,25,24,"ImageFactory"],[62,38,25,36],[63,6,26,4],[63,10,26,8],[63,11,26,9,"videoElement"],[63,23,26,21],[63,26,26,24,"videoElement"],[63,38,26,36],[64,6,27,4,"_defineProperty"],[64,21,27,19],[64,22,27,20],[64,26,27,24],[64,28,27,26],[64,42,27,40],[64,44,27,42],[64,51,27,49],[64,52,27,50],[65,6,28,4,"_defineProperty"],[65,21,28,19],[65,22,28,20],[65,26,28,24],[65,28,28,26],[65,41,28,39],[65,43,28,41],[65,47,28,45],[65,48,28,46],[66,6,29,4,"document"],[66,14,29,12],[66,15,29,13,"body"],[66,19,29,17],[66,20,29,18,"appendChild"],[66,31,29,29],[66,32,29,30],[66,36,29,34],[66,37,29,35,"videoElement"],[66,49,29,47],[66,50,29,48],[67,4,30,2],[68,4,31,2,"duration"],[68,12,31,10,"duration"],[68,13,31,10],[68,15,31,13],[69,6,32,4],[69,13,32,11],[69,17,32,15],[69,18,32,16,"videoElement"],[69,30,32,28],[69,31,32,29,"duration"],[69,39,32,37],[69,42,32,40],[69,46,32,44],[70,4,33,2],[71,4,34,2,"framerate"],[71,13,34,11,"framerate"],[71,14,34,11],[71,16,34,14],[72,6,35,4],[72,13,35,11],[72,17,35,11,"throwNotImplementedOnRNWeb"],[72,22,35,37],[72,23,35,37,"throwNotImplementedOnRNWeb"],[72,49,35,37],[72,51,35,38],[72,52,35,39],[73,4,36,2],[74,4,37,2,"setSurface"],[74,14,37,12,"setSurface"],[74,15,37,13,"surface"],[74,22,37,20],[74,24,37,22],[75,6,38,4],[76,6,39,4],[77,6,40,4],[78,6,41,4],[78,10,41,8],[78,11,41,9,"webglBuffer"],[78,22,41,20],[78,25,41,23],[78,29,41,27,"CanvasKitWebGLBufferImpl"],[78,54,41,51],[78,55,41,51,"CanvasKitWebGLBufferImpl"],[78,79,41,51],[78,80,41,52,"surface"],[78,87,41,59],[78,89,41,61],[78,93,41,65],[78,94,41,66,"videoElement"],[78,106,41,78],[78,107,41,79],[79,4,42,2],[80,4,43,2,"nextImage"],[80,13,43,11,"nextImage"],[80,14,43,11],[80,16,43,14],[81,6,44,4],[81,13,44,11],[81,17,44,15],[81,18,44,16,"ImageFactory"],[81,30,44,28],[81,31,44,29,"MakeImageFromNativeBuffer"],[81,56,44,54],[81,57,44,55],[81,61,44,59],[81,62,44,60,"webglBuffer"],[81,73,44,71],[81,76,44,74],[81,80,44,78],[81,81,44,79,"webglBuffer"],[81,92,44,90],[81,95,44,93],[81,99,44,97],[81,100,44,98,"videoElement"],[81,112,44,110],[81,113,44,111],[82,4,45,2],[83,4,46,2,"seek"],[83,8,46,6,"seek"],[83,9,46,7,"time"],[83,13,46,11],[83,15,46,13],[84,6,47,4],[84,10,47,8,"isNaN"],[84,15,47,13],[84,16,47,14,"time"],[84,20,47,18],[84,21,47,19],[84,23,47,21],[85,8,48,6],[85,14,48,12],[85,18,48,16,"Error"],[85,23,48,21],[85,24,48,22],[85,41,48,39,"time"],[85,45,48,43],[85,47,48,45],[85,48,48,46],[86,6,49,4],[87,6,50,4],[87,10,50,8],[87,11,50,9,"videoElement"],[87,23,50,21],[87,24,50,22,"currentTime"],[87,35,50,33],[87,38,50,36,"time"],[87,42,50,40],[87,45,50,43],[87,49,50,47],[88,4,51,2],[89,4,52,2,"rotation"],[89,12,52,10,"rotation"],[89,13,52,10],[89,15,52,13],[90,6,53,4],[90,13,53,11],[90,14,53,12],[91,4,54,2],[92,4,55,2,"size"],[92,8,55,6,"size"],[92,9,55,6],[92,11,55,9],[93,6,56,4],[93,13,56,11],[94,8,57,6,"width"],[94,13,57,11],[94,15,57,13],[94,19,57,17],[94,20,57,18,"videoElement"],[94,32,57,30],[94,33,57,31,"videoWidth"],[94,43,57,41],[95,8,58,6,"height"],[95,14,58,12],[95,16,58,14],[95,20,58,18],[95,21,58,19,"videoElement"],[95,33,58,31],[95,34,58,32,"videoHeight"],[96,6,59,4],[96,7,59,5],[97,4,60,2],[98,4,61,2,"pause"],[98,9,61,7,"pause"],[98,10,61,7],[98,12,61,10],[99,6,62,4],[99,10,62,8],[99,11,62,9,"videoElement"],[99,23,62,21],[99,24,62,22,"pause"],[99,29,62,27],[99,30,62,28],[99,31,62,29],[100,4,63,2],[101,4,64,2,"play"],[101,8,64,6,"play"],[101,9,64,6],[101,11,64,9],[102,6,65,4],[102,10,65,8],[102,11,65,9,"videoElement"],[102,23,65,21],[102,24,65,22,"play"],[102,28,65,26],[102,29,65,27],[102,30,65,28],[103,4,66,2],[104,4,67,2,"setVolume"],[104,13,67,11,"setVolume"],[104,14,67,12,"volume"],[104,20,67,18],[104,22,67,20],[105,6,68,4],[105,10,68,8],[105,11,68,9,"videoElement"],[105,23,68,21],[105,24,68,22,"volume"],[105,30,68,28],[105,33,68,31,"volume"],[105,39,68,37],[106,4,69,2],[107,4,70,2],[107,5,70,3,"Symbol"],[107,11,70,9],[107,12,70,10,"dispose"],[107,19,70,17],[107,23,70,21],[108,6,71,4],[108,10,71,8],[108,14,71,12],[108,15,71,13,"videoElement"],[108,27,71,25],[108,28,71,26,"parentNode"],[108,38,71,36],[108,40,71,38],[109,8,72,6],[109,12,72,10],[109,13,72,11,"videoElement"],[109,25,72,23],[109,26,72,24,"parentNode"],[109,36,72,34],[109,37,72,35,"removeChild"],[109,48,72,46],[109,49,72,47],[109,53,72,51],[109,54,72,52,"videoElement"],[109,66,72,64],[109,67,72,65],[110,6,73,4],[111,4,74,2],[112,4,75,2,"dispose"],[112,11,75,9,"dispose"],[112,12,75,9],[112,14,75,12],[113,6,76,4],[113,10,76,8],[113,11,76,9,"Symbol"],[113,17,76,15],[113,18,76,16,"dispose"],[113,25,76,23],[113,26,76,24],[113,27,76,25],[113,28,76,26],[114,4,77,2],[115,2,78,0],[116,0,78,1],[116,3]],"functionMap":{"names":["_defineProperty","<global>","_toPropertyKey","_toPrimitive","createVideo","Promise$argument_0","video.addEventListener$argument_1","JsiVideo","constructor","duration","framerate","setSurface","nextImage","seek","rotation","size","pause","play","setVolume","@@dispose","dispose"],"mappings":"AAA,oLC;ACC,2GD;AEC,wTF;2BGI;qBCE;6CCK;KDG;oCCC;KDE;GDC;CHC;OMC;ECC;GDM;EEC;GFE;EGC;GHE;EIC;GJK;EKC;GLE;EMC;GNK;EOC;GPE;EQC;GRK;ESC;GTE;EUC;GVE;EWC;GXE;EYC;GZI;EaC;GbE;CNC"},"hasCjsExports":false},"type":"js/module"}]}