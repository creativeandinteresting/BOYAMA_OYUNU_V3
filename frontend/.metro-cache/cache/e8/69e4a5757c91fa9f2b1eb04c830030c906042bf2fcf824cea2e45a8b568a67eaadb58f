{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../Skia","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":54},"end":{"line":3,"column":31,"index":85}}],"key":"5eRJ3Y/mp/EEiynYa3WwzXcSMXc=","exportNames":["*"],"imports":1}},{"name":"../../Platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":158},"end":{"line":5,"column":42,"index":200}}],"key":"AXHAxFjlDdeq1JxYZnWn+aHYhYU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"loadData\", {\n    enumerable: true,\n    get: function () {\n      return loadData;\n    }\n  });\n  Object.defineProperty(exports, \"useCollectionLoading\", {\n    enumerable: true,\n    get: function () {\n      return useCollectionLoading;\n    }\n  });\n  Object.defineProperty(exports, \"useRawData\", {\n    enumerable: true,\n    get: function () {\n      return useRawData;\n    }\n  });\n  Object.defineProperty(exports, \"useData\", {\n    enumerable: true,\n    get: function () {\n      return useData;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _Skia = require(_dependencyMap[2], \"../Skia\");\n  var _Platform = require(_dependencyMap[3], \"../../Platform\");\n  var factoryWrapper = (data2, factory, onError) => {\n    var factoryResult = factory(data2);\n    if (factoryResult === null) {\n      onError && onError(new Error(\"Could not load data\"));\n      return null;\n    } else {\n      return factoryResult;\n    }\n  };\n  var loadData = (source, factory, onError) => {\n    if (source === null || source === undefined) {\n      return new Promise(resolve => resolve(null));\n    } else if (source instanceof Uint8Array) {\n      return new Promise(resolve => resolve(factoryWrapper(_Skia.Skia.Data.fromBytes(source), factory, onError)));\n    } else {\n      var uri = typeof source === \"string\" ? source : _Platform.Platform.resolveAsset(source);\n      return _Skia.Skia.Data.fromURI(uri).then(d => factoryWrapper(d, factory, onError));\n    }\n  };\n  var useLoading = (source, loader) => {\n    var mounted = (0, _react.useRef)(false);\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n    var dataRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      mounted.current = true;\n      loader().then(value => {\n        if (mounted.current) {\n          setData(value);\n          dataRef.current = value;\n        }\n      });\n      return () => {\n        mounted.current = false;\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [source]);\n    return data;\n  };\n  var useCollectionLoading = (source, loader) => {\n    var mounted = (0, _react.useRef)(false);\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n    var dataRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      mounted.current = true;\n      loader().then(result => {\n        var value = result.filter(r => r !== null);\n        if (mounted.current) {\n          setData(value);\n          dataRef.current = value;\n        }\n      });\n      return () => {\n        mounted.current = false;\n      };\n\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [source]);\n    return data;\n  };\n  var useRawData = (source, factory, onError) => useLoading(source, () => loadData(source, factory, onError));\n  var identity = data => data;\n  var useData = (source, onError) => useRawData(source, identity, onError);\n});","lineCount":109,"map":[[12,2,21,0,"Object"],[12,8,21,0],[12,9,21,0,"defineProperty"],[12,23,21,0],[12,24,21,0,"exports"],[12,31,21,0],[13,4,21,0,"enumerable"],[13,14,21,0],[14,4,21,0,"get"],[14,7,21,0],[14,18,21,0,"get"],[14,19,21,0],[15,6,21,0],[15,13,21,0,"loadData"],[15,21,21,0],[16,4,21,0],[17,2,21,0],[18,2,64,0,"Object"],[18,8,64,0],[18,9,64,0,"defineProperty"],[18,23,64,0],[18,24,64,0,"exports"],[18,31,64,0],[19,4,64,0,"enumerable"],[19,14,64,0],[20,4,64,0,"get"],[20,7,64,0],[20,18,64,0,"get"],[20,19,64,0],[21,6,64,0],[21,13,64,0,"useCollectionLoading"],[21,33,64,0],[22,4,64,0],[23,2,64,0],[24,2,92,0,"Object"],[24,8,92,0],[24,9,92,0,"defineProperty"],[24,23,92,0],[24,24,92,0,"exports"],[24,31,92,0],[25,4,92,0,"enumerable"],[25,14,92,0],[26,4,92,0,"get"],[26,7,92,0],[26,18,92,0,"get"],[26,19,92,0],[27,6,92,0],[27,13,92,0,"useRawData"],[27,23,92,0],[28,4,92,0],[29,2,92,0],[30,2,100,0,"Object"],[30,8,100,0],[30,9,100,0,"defineProperty"],[30,23,100,0],[30,24,100,0,"exports"],[30,31,100,0],[31,4,100,0,"enumerable"],[31,14,100,0],[32,4,100,0,"get"],[32,7,100,0],[32,18,100,0,"get"],[32,19,100,0],[33,6,100,0],[33,13,100,0,"useData"],[33,20,100,0],[34,4,100,0],[35,2,100,0],[36,2,103,43],[36,6,103,43,"_babelRuntimeHelpersSlicedToArray"],[36,39,103,43],[36,42,103,43,"require"],[36,49,103,43],[36,50,103,43,"_dependencyMap"],[36,64,103,43],[37,2,103,43],[37,6,103,43,"_slicedToArray"],[37,20,103,43],[37,23,103,43,"_interopDefault"],[37,38,103,43],[37,39,103,43,"_babelRuntimeHelpersSlicedToArray"],[37,72,103,43],[38,2,1,0],[38,6,1,0,"_react"],[38,12,1,0],[38,15,1,0,"require"],[38,22,1,0],[38,23,1,0,"_dependencyMap"],[38,37,1,0],[39,2,3,0],[39,6,3,0,"_Skia"],[39,11,3,0],[39,14,3,0,"require"],[39,21,3,0],[39,22,3,0,"_dependencyMap"],[39,36,3,0],[40,2,5,0],[40,6,5,0,"_Platform"],[40,15,5,0],[40,18,5,0,"require"],[40,25,5,0],[40,26,5,0,"_dependencyMap"],[40,40,5,0],[41,2,7,0],[41,6,7,6,"factoryWrapper"],[41,20,7,20],[41,23,7,23,"factoryWrapper"],[41,24,8,2,"data2"],[41,29,8,15],[41,31,9,2,"factory"],[41,38,9,30],[41,40,10,2,"onError"],[41,47,10,32],[41,52,11,5],[42,4,12,2],[42,8,12,8,"factoryResult"],[42,21,12,21],[42,24,12,24,"factory"],[42,31,12,31],[42,32,12,32,"data2"],[42,37,12,37],[42,38,12,38],[43,4,13,2],[43,8,13,6,"factoryResult"],[43,21,13,19],[43,26,13,24],[43,30,13,28],[43,32,13,30],[44,6,14,4,"onError"],[44,13,14,11],[44,17,14,15,"onError"],[44,24,14,22],[44,25,14,23],[44,29,14,27,"Error"],[44,34,14,32],[44,35,14,33],[44,56,14,54],[44,57,14,55],[44,58,14,56],[45,6,15,4],[45,13,15,11],[45,17,15,15],[46,4,16,2],[46,5,16,3],[46,11,16,9],[47,6,17,4],[47,13,17,11,"factoryResult"],[47,26,17,24],[48,4,18,2],[49,2,19,0],[49,3,19,1],[50,2,21,7],[50,6,21,13,"loadData"],[50,14,21,21],[50,17,21,24,"loadData"],[50,18,22,2,"source"],[50,24,22,25],[50,26,23,2,"factory"],[50,33,23,37],[50,35,24,2,"onError"],[50,42,24,32],[50,47,25,24],[51,4,26,2],[51,8,26,6,"source"],[51,14,26,12],[51,19,26,17],[51,23,26,21],[51,27,26,25,"source"],[51,33,26,31],[51,38,26,36,"undefined"],[51,47,26,45],[51,49,26,47],[52,6,27,4],[52,13,27,11],[52,17,27,15,"Promise"],[52,24,27,22],[52,25,27,24,"resolve"],[52,32,27,31],[52,36,27,36,"resolve"],[52,43,27,43],[52,44,27,44],[52,48,27,48],[52,49,27,49],[52,50,27,50],[53,4,28,2],[53,5,28,3],[53,11,28,9],[53,15,28,13,"source"],[53,21,28,19],[53,33,28,31,"Uint8Array"],[53,43,28,41],[53,45,28,43],[54,6,29,4],[54,13,29,11],[54,17,29,15,"Promise"],[54,24,29,22],[54,25,29,24,"resolve"],[54,32,29,31],[54,36,30,6,"resolve"],[54,43,30,13],[54,44,30,14,"factoryWrapper"],[54,58,30,28],[54,59,30,29,"Skia"],[54,64,30,33],[54,65,30,33,"Skia"],[54,69,30,33],[54,70,30,34,"Data"],[54,74,30,38],[54,75,30,39,"fromBytes"],[54,84,30,48],[54,85,30,49,"source"],[54,91,30,55],[54,92,30,56],[54,94,30,58,"factory"],[54,101,30,65],[54,103,30,67,"onError"],[54,110,30,74],[54,111,30,75],[54,112,31,4],[54,113,31,5],[55,4,32,2],[55,5,32,3],[55,11,32,9],[56,6,33,4],[56,10,33,10,"uri"],[56,13,33,13],[56,16,34,6],[56,23,34,13,"source"],[56,29,34,19],[56,34,34,24],[56,42,34,32],[56,45,34,35,"source"],[56,51,34,41],[56,54,34,44,"Platform"],[56,63,34,52],[56,64,34,52,"Platform"],[56,72,34,52],[56,73,34,53,"resolveAsset"],[56,85,34,65],[56,86,34,66,"source"],[56,92,34,72],[56,93,34,73],[57,6,35,4],[57,13,35,11,"Skia"],[57,18,35,15],[57,19,35,15,"Skia"],[57,23,35,15],[57,24,35,16,"Data"],[57,28,35,20],[57,29,35,21,"fromURI"],[57,36,35,28],[57,37,35,29,"uri"],[57,40,35,32],[57,41,35,33],[57,42,35,34,"then"],[57,46,35,38],[57,47,35,40,"d"],[57,48,35,41],[57,52,36,6,"factoryWrapper"],[57,66,36,20],[57,67,36,21,"d"],[57,68,36,22],[57,70,36,24,"factory"],[57,77,36,31],[57,79,36,33,"onError"],[57,86,36,40],[57,87,37,4],[57,88,37,5],[58,4,38,2],[59,2,39,0],[59,3,39,1],[60,2,41,0],[60,6,41,6,"useLoading"],[60,16,41,16],[60,19,41,19,"useLoading"],[60,20,42,2,"source"],[60,26,42,25],[60,28,43,2,"loader"],[60,34,43,33],[60,39,44,5],[61,4,45,2],[61,8,45,8,"mounted"],[61,15,45,15],[61,18,45,18],[61,22,45,18,"useRef"],[61,28,45,24],[61,29,45,24,"useRef"],[61,35,45,24],[61,37,45,25],[61,42,45,30],[61,43,45,31],[62,4,46,2],[62,8,46,2,"_useState"],[62,17,46,2],[62,20,46,26],[62,24,46,26,"useState"],[62,30,46,34],[62,31,46,34,"useState"],[62,39,46,34],[62,41,46,45],[62,45,46,49],[62,46,46,50],[63,6,46,50,"_useState2"],[63,16,46,50],[63,23,46,50,"_slicedToArray"],[63,37,46,50],[63,38,46,50,"default"],[63,45,46,50],[63,47,46,50,"_useState"],[63,56,46,50],[64,6,46,9,"data"],[64,10,46,13],[64,13,46,13,"_useState2"],[64,23,46,13],[65,6,46,15,"setData"],[65,13,46,22],[65,16,46,22,"_useState2"],[65,26,46,22],[66,4,47,2],[66,8,47,8,"dataRef"],[66,15,47,15],[66,18,47,18],[66,22,47,18,"useRef"],[66,28,47,24],[66,29,47,24,"useRef"],[66,35,47,24],[66,37,47,35],[66,41,47,39],[66,42,47,40],[67,4,48,2],[67,8,48,2,"useEffect"],[67,14,48,11],[67,15,48,11,"useEffect"],[67,24,48,11],[67,26,48,12],[67,32,48,18],[68,6,49,4,"mounted"],[68,13,49,11],[68,14,49,12,"current"],[68,21,49,19],[68,24,49,22],[68,28,49,26],[69,6,50,4,"loader"],[69,12,50,10],[69,13,50,11],[69,14,50,12],[69,15,50,13,"then"],[69,19,50,17],[69,20,50,19,"value"],[69,25,50,24],[69,29,50,29],[70,8,51,6],[70,12,51,10,"mounted"],[70,19,51,17],[70,20,51,18,"current"],[70,27,51,25],[70,29,51,27],[71,10,52,8,"setData"],[71,17,52,15],[71,18,52,16,"value"],[71,23,52,21],[71,24,52,22],[72,10,53,8,"dataRef"],[72,17,53,15],[72,18,53,16,"current"],[72,25,53,23],[72,28,53,26,"value"],[72,33,53,31],[73,8,54,6],[74,6,55,4],[74,7,55,5],[74,8,55,6],[75,6,56,4],[75,13,56,11],[75,19,56,17],[76,8,57,6,"mounted"],[76,15,57,13],[76,16,57,14,"current"],[76,23,57,21],[76,26,57,24],[76,31,57,29],[77,6,58,4],[77,7,58,5],[78,6,59,4],[79,4,60,2],[79,5,60,3],[79,7,60,5],[79,8,60,6,"source"],[79,14,60,12],[79,15,60,13],[79,16,60,14],[80,4,61,2],[80,11,61,9,"data"],[80,15,61,13],[81,2,62,0],[81,3,62,1],[82,2,64,7],[82,6,64,13,"useCollectionLoading"],[82,26,64,33],[82,29,64,36,"useCollectionLoading"],[82,30,65,2,"source"],[82,36,65,27],[82,38,66,2,"loader"],[82,44,66,37],[82,49,67,5],[83,4,68,2],[83,8,68,8,"mounted"],[83,15,68,15],[83,18,68,18],[83,22,68,18,"useRef"],[83,28,68,24],[83,29,68,24,"useRef"],[83,35,68,24],[83,37,68,25],[83,42,68,30],[83,43,68,31],[84,4,69,2],[84,8,69,2,"_useState3"],[84,18,69,2],[84,21,69,26],[84,25,69,26,"useState"],[84,31,69,34],[84,32,69,34,"useState"],[84,40,69,34],[84,42,69,47],[84,46,69,51],[84,47,69,52],[85,6,69,52,"_useState4"],[85,16,69,52],[85,23,69,52,"_slicedToArray"],[85,37,69,52],[85,38,69,52,"default"],[85,45,69,52],[85,47,69,52,"_useState3"],[85,57,69,52],[86,6,69,9,"data"],[86,10,69,13],[86,13,69,13,"_useState4"],[86,23,69,13],[87,6,69,15,"setData"],[87,13,69,22],[87,16,69,22,"_useState4"],[87,26,69,22],[88,4,70,2],[88,8,70,8,"dataRef"],[88,15,70,15],[88,18,70,18],[88,22,70,18,"useRef"],[88,28,70,24],[88,29,70,24,"useRef"],[88,35,70,24],[88,37,70,37],[88,41,70,41],[88,42,70,42],[89,4,72,2],[89,8,72,2,"useEffect"],[89,14,72,11],[89,15,72,11,"useEffect"],[89,24,72,11],[89,26,72,12],[89,32,72,18],[90,6,73,4,"mounted"],[90,13,73,11],[90,14,73,12,"current"],[90,21,73,19],[90,24,73,22],[90,28,73,26],[91,6,74,4,"loader"],[91,12,74,10],[91,13,74,11],[91,14,74,12],[91,15,74,13,"then"],[91,19,74,17],[91,20,74,19,"result"],[91,26,74,25],[91,30,74,30],[92,8,75,6],[92,12,75,12,"value"],[92,17,75,17],[92,20,75,20,"result"],[92,26,75,26],[92,27,75,27,"filter"],[92,33,75,33],[92,34,75,35,"r"],[92,35,75,36],[92,39,75,41,"r"],[92,40,75,42],[92,45,75,47],[92,49,75,51],[92,50,75,59],[93,8,76,6],[93,12,76,10,"mounted"],[93,19,76,17],[93,20,76,18,"current"],[93,27,76,25],[93,29,76,27],[94,10,77,8,"setData"],[94,17,77,15],[94,18,77,16,"value"],[94,23,77,21],[94,24,77,22],[95,10,78,8,"dataRef"],[95,17,78,15],[95,18,78,16,"current"],[95,25,78,23],[95,28,78,26,"value"],[95,33,78,31],[96,8,79,6],[97,6,80,4],[97,7,80,5],[97,8,80,6],[98,6,82,4],[98,13,82,11],[98,19,82,17],[99,8,83,6,"mounted"],[99,15,83,13],[99,16,83,14,"current"],[99,23,83,21],[99,26,83,24],[99,31,83,29],[100,6,84,4],[100,7,84,5],[102,6,86,4],[103,4,87,2],[103,5,87,3],[103,7,87,5],[103,8,87,6,"source"],[103,14,87,12],[103,15,87,13],[103,16,87,14],[104,4,89,2],[104,11,89,9,"data"],[104,15,89,13],[105,2,90,0],[105,3,90,1],[106,2,92,7],[106,6,92,13,"useRawData"],[106,16,92,23],[106,19,92,26,"useRawData"],[106,20,93,2,"source"],[106,26,93,25],[106,28,94,2,"factory"],[106,35,94,37],[106,37,95,2,"onError"],[106,44,95,32],[106,49,96,5,"useLoading"],[106,59,96,15],[106,60,96,16,"source"],[106,66,96,22],[106,68,96,24],[106,74,96,30,"loadData"],[106,82,96,38],[106,83,96,42,"source"],[106,89,96,48],[106,91,96,50,"factory"],[106,98,96,57],[106,100,96,59,"onError"],[106,107,96,66],[106,108,96,67],[106,109,96,68],[107,2,98,0],[107,6,98,6,"identity"],[107,14,98,14],[107,17,98,18,"data"],[107,21,98,30],[107,25,98,35,"data"],[107,29,98,39],[108,2,100,7],[108,6,100,13,"useData"],[108,13,100,20],[108,16,100,23,"useData"],[108,17,101,2,"source"],[108,23,101,25],[108,25,102,2,"onError"],[108,32,102,32],[108,37,103,5,"useRawData"],[108,47,103,15],[108,48,103,16,"source"],[108,54,103,22],[108,56,103,24,"identity"],[108,64,103,32],[108,66,103,34,"onError"],[108,73,103,41],[108,74,103,42],[109,0,103,43],[109,3]],"functionMap":{"names":["<global>","factoryWrapper","loadData","Promise$argument_0","Skia.Data.fromURI.then$argument_0","useLoading","useEffect$argument_0","loader.then$argument_0","<anonymous>","useCollectionLoading","result.filter$argument_0","useRawData","useLoading$argument_1","identity","useData"],"mappings":"AAA;uBCM;CDY;wBEE;uBCM,0BD;uBCE;4EDC;uCEK;yCFC;CFG;mBKE;YCO;kBCE;KDK;WEC;KFE;GDE;CLE;oCSE;YHQ;kBCE;kCGC,iBH;KDK;WEE;KFE;GGG;CTG;0BWE;wBCI,2CD,CX;iBaE,sBb;uBcE;0CdG"},"hasCjsExports":false},"type":"js/module"}]}