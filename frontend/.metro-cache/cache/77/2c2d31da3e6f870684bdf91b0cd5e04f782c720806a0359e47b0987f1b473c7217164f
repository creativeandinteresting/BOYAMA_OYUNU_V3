{"dependencies":[{"name":"./Host","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":30,"index":30}}],"key":"BQhWeBRDaUSxZaA5iU6wGzQsFFs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"JsiSkNativeBufferFactory\", {\n    enumerable: true,\n    get: function () {\n      return JsiSkNativeBufferFactory;\n    }\n  });\n  var _Host = require(_dependencyMap[0], \"./Host\");\n  class JsiSkNativeBufferFactory extends _Host.Host {\n    constructor(CanvasKit) {\n      super(CanvasKit);\n    }\n    MakeFromImage(image) {\n      const info = image.getImageInfo();\n      const uint8ClampedArray = new Uint8ClampedArray(image.readPixels());\n      const imageData = new ImageData(uint8ClampedArray, info.width, info.height);\n      const canvas = new OffscreenCanvas(info.width, info.height);\n      const ctx = canvas.getContext(\"2d\");\n      if (!ctx) {\n        throw new Error(\"Failed to get 2d context from canvas\");\n      }\n      ctx.putImageData(imageData, 0, 0);\n      return canvas;\n    }\n    Release(_nativeBuffer) {\n      // it's a noop on Web\n    }\n  }\n});","lineCount":34,"map":[[7,2,2,0,"Object"],[7,8,2,0],[7,9,2,0,"defineProperty"],[7,23,2,0],[7,24,2,0,"exports"],[7,31,2,0],[8,4,2,0,"enumerable"],[8,14,2,0],[9,4,2,0,"get"],[9,7,2,0],[9,18,2,0,"get"],[9,19,2,0],[10,6,2,0],[10,13,2,0,"JsiSkNativeBufferFactory"],[10,37,2,0],[11,4,2,0],[12,2,2,0],[13,2,1,0],[13,6,1,0,"_Host"],[13,11,1,0],[13,14,1,0,"require"],[13,21,1,0],[13,22,1,0,"_dependencyMap"],[13,36,1,0],[14,2,2,7],[14,8,2,13,"JsiSkNativeBufferFactory"],[14,32,2,37],[14,41,2,46,"Host"],[14,46,2,50],[14,47,2,50,"Host"],[14,51,2,50],[14,52,2,51],[15,4,3,2,"constructor"],[15,15,3,13,"constructor"],[15,16,3,14,"CanvasKit"],[15,25,3,23],[15,27,3,25],[16,6,4,4],[16,11,4,9],[16,12,4,10,"CanvasKit"],[16,21,4,19],[16,22,4,20],[17,4,5,2],[18,4,6,2,"MakeFromImage"],[18,17,6,15,"MakeFromImage"],[18,18,6,16,"image"],[18,23,6,21],[18,25,6,23],[19,6,7,4],[19,12,7,10,"info"],[19,16,7,14],[19,19,7,17,"image"],[19,24,7,22],[19,25,7,23,"getImageInfo"],[19,37,7,35],[19,38,7,36],[19,39,7,37],[20,6,8,4],[20,12,8,10,"uint8ClampedArray"],[20,29,8,27],[20,32,8,30],[20,36,8,34,"Uint8ClampedArray"],[20,53,8,51],[20,54,8,52,"image"],[20,59,8,57],[20,60,8,58,"readPixels"],[20,70,8,68],[20,71,8,69],[20,72,8,70],[20,73,8,71],[21,6,9,4],[21,12,9,10,"imageData"],[21,21,9,19],[21,24,9,22],[21,28,9,26,"ImageData"],[21,37,9,35],[21,38,9,36,"uint8ClampedArray"],[21,55,9,53],[21,57,9,55,"info"],[21,61,9,59],[21,62,9,60,"width"],[21,67,9,65],[21,69,9,67,"info"],[21,73,9,71],[21,74,9,72,"height"],[21,80,9,78],[21,81,9,79],[22,6,10,4],[22,12,10,10,"canvas"],[22,18,10,16],[22,21,10,19],[22,25,10,23,"OffscreenCanvas"],[22,40,10,38],[22,41,10,39,"info"],[22,45,10,43],[22,46,10,44,"width"],[22,51,10,49],[22,53,10,51,"info"],[22,57,10,55],[22,58,10,56,"height"],[22,64,10,62],[22,65,10,63],[23,6,11,4],[23,12,11,10,"ctx"],[23,15,11,13],[23,18,11,16,"canvas"],[23,24,11,22],[23,25,11,23,"getContext"],[23,35,11,33],[23,36,11,34],[23,40,11,38],[23,41,11,39],[24,6,12,4],[24,10,12,8],[24,11,12,9,"ctx"],[24,14,12,12],[24,16,12,14],[25,8,13,6],[25,14,13,12],[25,18,13,16,"Error"],[25,23,13,21],[25,24,13,22],[25,62,13,60],[25,63,13,61],[26,6,14,4],[27,6,15,4,"ctx"],[27,9,15,7],[27,10,15,8,"putImageData"],[27,22,15,20],[27,23,15,21,"imageData"],[27,32,15,30],[27,34,15,32],[27,35,15,33],[27,37,15,35],[27,38,15,36],[27,39,15,37],[28,6,16,4],[28,13,16,11,"canvas"],[28,19,16,17],[29,4,17,2],[30,4,18,2,"Release"],[30,11,18,9,"Release"],[30,12,18,10,"_nativeBuffer"],[30,25,18,23],[30,27,18,25],[31,6,19,4],[32,4,19,4],[33,2,21,0],[34,0,21,1],[34,3]],"functionMap":{"names":["<global>","JsiSkNativeBufferFactory","constructor","MakeFromImage","Release"],"mappings":"AAA;OCC;ECC;GDE;EEC;GFW;EGC;GHE;CDC"},"hasCjsExports":false},"type":"js/module"}]}