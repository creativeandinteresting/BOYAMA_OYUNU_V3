{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../Skia","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":31,"index":84}}],"key":"5eRJ3Y/mp/EEiynYa3WwzXcSMXc=","exportNames":["*"],"imports":1}},{"name":"../../Platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":85},"end":{"line":3,"column":42,"index":127}}],"key":"AXHAxFjlDdeq1JxYZnWn+aHYhYU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"loadData\", {\n    enumerable: true,\n    get: function () {\n      return loadData;\n    }\n  });\n  Object.defineProperty(exports, \"useCollectionLoading\", {\n    enumerable: true,\n    get: function () {\n      return useCollectionLoading;\n    }\n  });\n  Object.defineProperty(exports, \"useRawData\", {\n    enumerable: true,\n    get: function () {\n      return useRawData;\n    }\n  });\n  Object.defineProperty(exports, \"useData\", {\n    enumerable: true,\n    get: function () {\n      return useData;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _Skia = require(_dependencyMap[1], \"../Skia\");\n  var _Platform = require(_dependencyMap[2], \"../../Platform\");\n  const factoryWrapper = (data2, factory, onError) => {\n    const factoryResult = factory(data2);\n    if (factoryResult === null) {\n      onError && onError(new Error(\"Could not load data\"));\n      return null;\n    } else {\n      return factoryResult;\n    }\n  };\n  const loadData = (source, factory, onError) => {\n    if (source === null || source === undefined) {\n      return new Promise(resolve => resolve(null));\n    } else if (source instanceof Uint8Array) {\n      return new Promise(resolve => resolve(factoryWrapper(_Skia.Skia.Data.fromBytes(source), factory, onError)));\n    } else {\n      const uri = typeof source === \"string\" ? source : _Platform.Platform.resolveAsset(source);\n      return _Skia.Skia.Data.fromURI(uri).then(d => factoryWrapper(d, factory, onError));\n    }\n  };\n  const useLoading = (source, loader) => {\n    const mounted = (0, _react.useRef)(false);\n    const [data, setData] = (0, _react.useState)(null);\n    const dataRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      mounted.current = true;\n      loader().then(value => {\n        if (mounted.current) {\n          setData(value);\n          dataRef.current = value;\n        }\n      });\n      return () => {\n        mounted.current = false;\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [source]);\n    return data;\n  };\n  const useCollectionLoading = (source, loader) => {\n    const mounted = (0, _react.useRef)(false);\n    const [data, setData] = (0, _react.useState)(null);\n    const dataRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      mounted.current = true;\n      loader().then(result => {\n        const value = result.filter(r => r !== null);\n        if (mounted.current) {\n          setData(value);\n          dataRef.current = value;\n        }\n      });\n      return () => {\n        mounted.current = false;\n      };\n\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [source]);\n    return data;\n  };\n  const useRawData = (source, factory, onError) => useLoading(source, () => loadData(source, factory, onError));\n  const identity = data => data;\n  const useData = (source, onError) => useRawData(source, identity, onError);\n});","lineCount":96,"map":[[7,2,13,0,"Object"],[7,8,13,0],[7,9,13,0,"defineProperty"],[7,23,13,0],[7,24,13,0,"exports"],[7,31,13,0],[8,4,13,0,"enumerable"],[8,14,13,0],[9,4,13,0,"get"],[9,7,13,0],[9,18,13,0,"get"],[9,19,13,0],[10,6,13,0],[10,13,13,0,"loadData"],[10,21,13,0],[11,4,13,0],[12,2,13,0],[13,2,42,0,"Object"],[13,8,42,0],[13,9,42,0,"defineProperty"],[13,23,42,0],[13,24,42,0,"exports"],[13,31,42,0],[14,4,42,0,"enumerable"],[14,14,42,0],[15,4,42,0,"get"],[15,7,42,0],[15,18,42,0,"get"],[15,19,42,0],[16,6,42,0],[16,13,42,0,"useCollectionLoading"],[16,33,42,0],[17,4,42,0],[18,2,42,0],[19,2,63,0,"Object"],[19,8,63,0],[19,9,63,0,"defineProperty"],[19,23,63,0],[19,24,63,0,"exports"],[19,31,63,0],[20,4,63,0,"enumerable"],[20,14,63,0],[21,4,63,0,"get"],[21,7,63,0],[21,18,63,0,"get"],[21,19,63,0],[22,6,63,0],[22,13,63,0,"useRawData"],[22,23,63,0],[23,4,63,0],[24,2,63,0],[25,2,65,0,"Object"],[25,8,65,0],[25,9,65,0,"defineProperty"],[25,23,65,0],[25,24,65,0,"exports"],[25,31,65,0],[26,4,65,0,"enumerable"],[26,14,65,0],[27,4,65,0,"get"],[27,7,65,0],[27,18,65,0,"get"],[27,19,65,0],[28,6,65,0],[28,13,65,0,"useData"],[28,20,65,0],[29,4,65,0],[30,2,65,0],[31,2,1,0],[31,6,1,0,"_react"],[31,12,1,0],[31,15,1,0,"require"],[31,22,1,0],[31,23,1,0,"_dependencyMap"],[31,37,1,0],[32,2,2,0],[32,6,2,0,"_Skia"],[32,11,2,0],[32,14,2,0,"require"],[32,21,2,0],[32,22,2,0,"_dependencyMap"],[32,36,2,0],[33,2,3,0],[33,6,3,0,"_Platform"],[33,15,3,0],[33,18,3,0,"require"],[33,25,3,0],[33,26,3,0,"_dependencyMap"],[33,40,3,0],[34,2,4,0],[34,8,4,6,"factoryWrapper"],[34,22,4,20],[34,25,4,23,"factoryWrapper"],[34,26,4,24,"data2"],[34,31,4,29],[34,33,4,31,"factory"],[34,40,4,38],[34,42,4,40,"onError"],[34,49,4,47],[34,54,4,52],[35,4,5,2],[35,10,5,8,"factoryResult"],[35,23,5,21],[35,26,5,24,"factory"],[35,33,5,31],[35,34,5,32,"data2"],[35,39,5,37],[35,40,5,38],[36,4,6,2],[36,8,6,6,"factoryResult"],[36,21,6,19],[36,26,6,24],[36,30,6,28],[36,32,6,30],[37,6,7,4,"onError"],[37,13,7,11],[37,17,7,15,"onError"],[37,24,7,22],[37,25,7,23],[37,29,7,27,"Error"],[37,34,7,32],[37,35,7,33],[37,56,7,54],[37,57,7,55],[37,58,7,56],[38,6,8,4],[38,13,8,11],[38,17,8,15],[39,4,9,2],[39,5,9,3],[39,11,9,9],[40,6,10,4],[40,13,10,11,"factoryResult"],[40,26,10,24],[41,4,11,2],[42,2,12,0],[42,3,12,1],[43,2,13,7],[43,8,13,13,"loadData"],[43,16,13,21],[43,19,13,24,"loadData"],[43,20,13,25,"source"],[43,26,13,31],[43,28,13,33,"factory"],[43,35,13,40],[43,37,13,42,"onError"],[43,44,13,49],[43,49,13,54],[44,4,14,2],[44,8,14,6,"source"],[44,14,14,12],[44,19,14,17],[44,23,14,21],[44,27,14,25,"source"],[44,33,14,31],[44,38,14,36,"undefined"],[44,47,14,45],[44,49,14,47],[45,6,15,4],[45,13,15,11],[45,17,15,15,"Promise"],[45,24,15,22],[45,25,15,23,"resolve"],[45,32,15,30],[45,36,15,34,"resolve"],[45,43,15,41],[45,44,15,42],[45,48,15,46],[45,49,15,47],[45,50,15,48],[46,4,16,2],[46,5,16,3],[46,11,16,9],[46,15,16,13,"source"],[46,21,16,19],[46,33,16,31,"Uint8Array"],[46,43,16,41],[46,45,16,43],[47,6,17,4],[47,13,17,11],[47,17,17,15,"Promise"],[47,24,17,22],[47,25,17,23,"resolve"],[47,32,17,30],[47,36,17,34,"resolve"],[47,43,17,41],[47,44,17,42,"factoryWrapper"],[47,58,17,56],[47,59,17,57,"Skia"],[47,64,17,61],[47,65,17,61,"Skia"],[47,69,17,61],[47,70,17,62,"Data"],[47,74,17,66],[47,75,17,67,"fromBytes"],[47,84,17,76],[47,85,17,77,"source"],[47,91,17,83],[47,92,17,84],[47,94,17,86,"factory"],[47,101,17,93],[47,103,17,95,"onError"],[47,110,17,102],[47,111,17,103],[47,112,17,104],[47,113,17,105],[48,4,18,2],[48,5,18,3],[48,11,18,9],[49,6,19,4],[49,12,19,10,"uri"],[49,15,19,13],[49,18,19,16],[49,25,19,23,"source"],[49,31,19,29],[49,36,19,34],[49,44,19,42],[49,47,19,45,"source"],[49,53,19,51],[49,56,19,54,"Platform"],[49,65,19,62],[49,66,19,62,"Platform"],[49,74,19,62],[49,75,19,63,"resolveAsset"],[49,87,19,75],[49,88,19,76,"source"],[49,94,19,82],[49,95,19,83],[50,6,20,4],[50,13,20,11,"Skia"],[50,18,20,15],[50,19,20,15,"Skia"],[50,23,20,15],[50,24,20,16,"Data"],[50,28,20,20],[50,29,20,21,"fromURI"],[50,36,20,28],[50,37,20,29,"uri"],[50,40,20,32],[50,41,20,33],[50,42,20,34,"then"],[50,46,20,38],[50,47,20,39,"d"],[50,48,20,40],[50,52,20,44,"factoryWrapper"],[50,66,20,58],[50,67,20,59,"d"],[50,68,20,60],[50,70,20,62,"factory"],[50,77,20,69],[50,79,20,71,"onError"],[50,86,20,78],[50,87,20,79],[50,88,20,80],[51,4,21,2],[52,2,22,0],[52,3,22,1],[53,2,23,0],[53,8,23,6,"useLoading"],[53,18,23,16],[53,21,23,19,"useLoading"],[53,22,23,20,"source"],[53,28,23,26],[53,30,23,28,"loader"],[53,36,23,34],[53,41,23,39],[54,4,24,2],[54,10,24,8,"mounted"],[54,17,24,15],[54,20,24,18],[54,24,24,18,"useRef"],[54,30,24,24],[54,31,24,24,"useRef"],[54,37,24,24],[54,39,24,25],[54,44,24,30],[54,45,24,31],[55,4,25,2],[55,10,25,8],[55,11,25,9,"data"],[55,15,25,13],[55,17,25,15,"setData"],[55,24,25,22],[55,25,25,23],[55,28,25,26],[55,32,25,26,"useState"],[55,38,25,34],[55,39,25,34,"useState"],[55,47,25,34],[55,49,25,35],[55,53,25,39],[55,54,25,40],[56,4,26,2],[56,10,26,8,"dataRef"],[56,17,26,15],[56,20,26,18],[56,24,26,18,"useRef"],[56,30,26,24],[56,31,26,24,"useRef"],[56,37,26,24],[56,39,26,25],[56,43,26,29],[56,44,26,30],[57,4,27,2],[57,8,27,2,"useEffect"],[57,14,27,11],[57,15,27,11,"useEffect"],[57,24,27,11],[57,26,27,12],[57,32,27,18],[58,6,28,4,"mounted"],[58,13,28,11],[58,14,28,12,"current"],[58,21,28,19],[58,24,28,22],[58,28,28,26],[59,6,29,4,"loader"],[59,12,29,10],[59,13,29,11],[59,14,29,12],[59,15,29,13,"then"],[59,19,29,17],[59,20,29,18,"value"],[59,25,29,23],[59,29,29,27],[60,8,30,6],[60,12,30,10,"mounted"],[60,19,30,17],[60,20,30,18,"current"],[60,27,30,25],[60,29,30,27],[61,10,31,8,"setData"],[61,17,31,15],[61,18,31,16,"value"],[61,23,31,21],[61,24,31,22],[62,10,32,8,"dataRef"],[62,17,32,15],[62,18,32,16,"current"],[62,25,32,23],[62,28,32,26,"value"],[62,33,32,31],[63,8,33,6],[64,6,34,4],[64,7,34,5],[64,8,34,6],[65,6,35,4],[65,13,35,11],[65,19,35,17],[66,8,36,6,"mounted"],[66,15,36,13],[66,16,36,14,"current"],[66,23,36,21],[66,26,36,24],[66,31,36,29],[67,6,37,4],[67,7,37,5],[68,6,38,4],[69,4,39,2],[69,5,39,3],[69,7,39,5],[69,8,39,6,"source"],[69,14,39,12],[69,15,39,13],[69,16,39,14],[70,4,40,2],[70,11,40,9,"data"],[70,15,40,13],[71,2,41,0],[71,3,41,1],[72,2,42,7],[72,8,42,13,"useCollectionLoading"],[72,28,42,33],[72,31,42,36,"useCollectionLoading"],[72,32,42,37,"source"],[72,38,42,43],[72,40,42,45,"loader"],[72,46,42,51],[72,51,42,56],[73,4,43,2],[73,10,43,8,"mounted"],[73,17,43,15],[73,20,43,18],[73,24,43,18,"useRef"],[73,30,43,24],[73,31,43,24,"useRef"],[73,37,43,24],[73,39,43,25],[73,44,43,30],[73,45,43,31],[74,4,44,2],[74,10,44,8],[74,11,44,9,"data"],[74,15,44,13],[74,17,44,15,"setData"],[74,24,44,22],[74,25,44,23],[74,28,44,26],[74,32,44,26,"useState"],[74,38,44,34],[74,39,44,34,"useState"],[74,47,44,34],[74,49,44,35],[74,53,44,39],[74,54,44,40],[75,4,45,2],[75,10,45,8,"dataRef"],[75,17,45,15],[75,20,45,18],[75,24,45,18,"useRef"],[75,30,45,24],[75,31,45,24,"useRef"],[75,37,45,24],[75,39,45,25],[75,43,45,29],[75,44,45,30],[76,4,46,2],[76,8,46,2,"useEffect"],[76,14,46,11],[76,15,46,11,"useEffect"],[76,24,46,11],[76,26,46,12],[76,32,46,18],[77,6,47,4,"mounted"],[77,13,47,11],[77,14,47,12,"current"],[77,21,47,19],[77,24,47,22],[77,28,47,26],[78,6,48,4,"loader"],[78,12,48,10],[78,13,48,11],[78,14,48,12],[78,15,48,13,"then"],[78,19,48,17],[78,20,48,18,"result"],[78,26,48,24],[78,30,48,28],[79,8,49,6],[79,14,49,12,"value"],[79,19,49,17],[79,22,49,20,"result"],[79,28,49,26],[79,29,49,27,"filter"],[79,35,49,33],[79,36,49,34,"r"],[79,37,49,35],[79,41,49,39,"r"],[79,42,49,40],[79,47,49,45],[79,51,49,49],[79,52,49,50],[80,8,50,6],[80,12,50,10,"mounted"],[80,19,50,17],[80,20,50,18,"current"],[80,27,50,25],[80,29,50,27],[81,10,51,8,"setData"],[81,17,51,15],[81,18,51,16,"value"],[81,23,51,21],[81,24,51,22],[82,10,52,8,"dataRef"],[82,17,52,15],[82,18,52,16,"current"],[82,25,52,23],[82,28,52,26,"value"],[82,33,52,31],[83,8,53,6],[84,6,54,4],[84,7,54,5],[84,8,54,6],[85,6,55,4],[85,13,55,11],[85,19,55,17],[86,8,56,6,"mounted"],[86,15,56,13],[86,16,56,14,"current"],[86,23,56,21],[86,26,56,24],[86,31,56,29],[87,6,57,4],[87,7,57,5],[89,6,59,4],[90,4,60,2],[90,5,60,3],[90,7,60,5],[90,8,60,6,"source"],[90,14,60,12],[90,15,60,13],[90,16,60,14],[91,4,61,2],[91,11,61,9,"data"],[91,15,61,13],[92,2,62,0],[92,3,62,1],[93,2,63,7],[93,8,63,13,"useRawData"],[93,18,63,23],[93,21,63,26,"useRawData"],[93,22,63,27,"source"],[93,28,63,33],[93,30,63,35,"factory"],[93,37,63,42],[93,39,63,44,"onError"],[93,46,63,51],[93,51,63,56,"useLoading"],[93,61,63,66],[93,62,63,67,"source"],[93,68,63,73],[93,70,63,75],[93,76,63,81,"loadData"],[93,84,63,89],[93,85,63,90,"source"],[93,91,63,96],[93,93,63,98,"factory"],[93,100,63,105],[93,102,63,107,"onError"],[93,109,63,114],[93,110,63,115],[93,111,63,116],[94,2,64,0],[94,8,64,6,"identity"],[94,16,64,14],[94,19,64,17,"data"],[94,23,64,21],[94,27,64,25,"data"],[94,31,64,29],[95,2,65,7],[95,8,65,13,"useData"],[95,15,65,20],[95,18,65,23,"useData"],[95,19,65,24,"source"],[95,25,65,30],[95,27,65,32,"onError"],[95,34,65,39],[95,39,65,44,"useRawData"],[95,49,65,54],[95,50,65,55,"source"],[95,56,65,61],[95,58,65,63,"identity"],[95,66,65,71],[95,68,65,73,"onError"],[95,75,65,80],[95,76,65,81],[96,0,65,82],[96,3]],"functionMap":{"names":["<global>","factoryWrapper","loadData","Promise$argument_0","Skia.Data.fromURI.then$argument_0","useLoading","useEffect$argument_0","loader.then$argument_0","<anonymous>","useCollectionLoading","result.filter$argument_0","useRawData","useLoading$argument_1","identity","useData"],"mappings":"AAA;uBCG;CDQ;wBEC;uBCE,wBD;uBCE,iFD;uCEG,wCF;CFE;mBKC;YCI;kBCE;KDK;WEC;KFE;GDE;CLE;oCSC;YHI;kBCE;kCGC,eH;KDK;WEC;KFE;GGG;CTE;0BWC,iDC,wCD,CX;iBaC,Yb;uBcC,0Dd"},"hasCjsExports":false},"type":"js/module"}]}