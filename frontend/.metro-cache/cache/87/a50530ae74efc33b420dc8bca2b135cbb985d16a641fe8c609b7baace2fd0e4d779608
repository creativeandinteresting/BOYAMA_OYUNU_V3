{"dependencies":[{"name":"../../Platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"AXHAxFjlDdeq1JxYZnWn+aHYhYU=","exportNames":["*"],"imports":1}},{"name":"../Skia","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":43},"end":{"line":2,"column":31,"index":74}}],"key":"5eRJ3Y/mp/EEiynYa3WwzXcSMXc=","exportNames":["*"],"imports":1}},{"name":"./Data","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":134},"end":{"line":5,"column":36,"index":170}}],"key":"0fS75tjqpJdM3ThONBfvzOQKEI0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useImage\", {\n    enumerable: true,\n    get: function () {\n      return useImage;\n    }\n  });\n  Object.defineProperty(exports, \"makeImageFromView\", {\n    enumerable: true,\n    get: function () {\n      return makeImageFromView;\n    }\n  });\n  var _Platform = require(_dependencyMap[0], \"../../Platform\");\n  var _Skia = require(_dependencyMap[1], \"../Skia\");\n  var _Data = require(_dependencyMap[2], \"./Data\");\n  var imgFactory = _Skia.Skia.Image.MakeImageFromEncoded.bind(_Skia.Skia.Image);\n\n  /**\n   * Returns a Skia Image object\n   * */\n  var useImage = (source, onError) => (0, _Data.useRawData)(source, imgFactory, onError);\n\n  /**\n   * Creates an image from a given view reference. NOTE: This method has different implementations\n   * on web/native. On web, the callback is called with the view ref and the callback is expected to\n   * return a promise that resolves to a Skia Image object. On native, the view ref is used to\n   * find the view tag and the Skia Image object is created from the view tag. This means that on web\n   * you will need to implement the logic to create the image from the view ref yourself.\n   * @param viewRef Ref to the view we're creating an image from\n   * @returns A promise that resolves to a Skia Image object or rejects\n   * with an error id the view tag is invalid.\n   */\n  var makeImageFromView = function (viewRef) {\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    // In web implementation we just delegate the work to the provided callback\n    if (_Platform.Platform.OS === \"web\") {\n      if (callback) {\n        return callback(viewRef);\n      } else {\n        Promise.reject(new Error(\"Callback is required on web in the makeImageFromView function.\"));\n      }\n    }\n    var viewTag = _Platform.Platform.findNodeHandle(viewRef.current);\n    if (viewTag !== null && viewTag !== 0) {\n      return _Skia.Skia.Image.MakeImageFromViewTag(viewTag);\n    }\n    return Promise.reject(new Error(\"Invalid view tag\"));\n  };\n});","lineCount":55,"map":[[7,2,12,0,"Object"],[7,8,12,0],[7,9,12,0,"defineProperty"],[7,23,12,0],[7,24,12,0,"exports"],[7,31,12,0],[8,4,12,0,"enumerable"],[8,14,12,0],[9,4,12,0,"get"],[9,7,12,0],[9,18,12,0,"get"],[9,19,12,0],[10,6,12,0],[10,13,12,0,"useImage"],[10,21,12,0],[11,4,12,0],[12,2,12,0],[13,2,27,0,"Object"],[13,8,27,0],[13,9,27,0,"defineProperty"],[13,23,27,0],[13,24,27,0,"exports"],[13,31,27,0],[14,4,27,0,"enumerable"],[14,14,27,0],[15,4,27,0,"get"],[15,7,27,0],[15,18,27,0,"get"],[15,19,27,0],[16,6,27,0],[16,13,27,0,"makeImageFromView"],[16,30,27,0],[17,4,27,0],[18,2,27,0],[19,2,1,0],[19,6,1,0,"_Platform"],[19,15,1,0],[19,18,1,0,"require"],[19,25,1,0],[19,26,1,0,"_dependencyMap"],[19,40,1,0],[20,2,2,0],[20,6,2,0,"_Skia"],[20,11,2,0],[20,14,2,0,"require"],[20,21,2,0],[20,22,2,0,"_dependencyMap"],[20,36,2,0],[21,2,5,0],[21,6,5,0,"_Data"],[21,11,5,0],[21,14,5,0,"require"],[21,21,5,0],[21,22,5,0,"_dependencyMap"],[21,36,5,0],[22,2,7,0],[22,6,7,6,"imgFactory"],[22,16,7,16],[22,19,7,19,"Skia"],[22,24,7,23],[22,25,7,23,"Skia"],[22,29,7,23],[22,30,7,24,"Image"],[22,35,7,29],[22,36,7,30,"MakeImageFromEncoded"],[22,56,7,50],[22,57,7,51,"bind"],[22,61,7,55],[22,62,7,56,"Skia"],[22,67,7,60],[22,68,7,60,"Skia"],[22,72,7,60],[22,73,7,61,"Image"],[22,78,7,66],[22,79,7,67],[24,2,9,0],[25,0,10,0],[26,0,11,0],[27,2,12,7],[27,6,12,13,"useImage"],[27,14,12,21],[27,17,12,24,"useImage"],[27,18,13,2,"source"],[27,24,13,25],[27,26,14,2,"onError"],[27,33,14,32],[27,38,15,5],[27,42,15,5,"useRawData"],[27,47,15,15],[27,48,15,15,"useRawData"],[27,58,15,15],[27,60,15,16,"source"],[27,66,15,22],[27,68,15,24,"imgFactory"],[27,78,15,34],[27,80,15,36,"onError"],[27,87,15,43],[27,88,15,44],[29,2,17,0],[30,0,18,0],[31,0,19,0],[32,0,20,0],[33,0,21,0],[34,0,22,0],[35,0,23,0],[36,0,24,0],[37,0,25,0],[38,0,26,0],[39,2,27,7],[39,6,27,13,"makeImageFromView"],[39,23,27,30],[39,26,27,33],[39,35,27,33,"makeImageFromView"],[39,36,34,2,"viewRef"],[39,43,34,29],[39,45,38,5],[40,4,38,5],[40,8,35,2,"callback"],[40,16,37,64],[40,19,37,64,"arguments"],[40,28,37,64],[40,29,37,64,"length"],[40,35,37,64],[40,43,37,64,"arguments"],[40,52,37,64],[40,60,37,64,"undefined"],[40,69,37,64],[40,72,37,64,"arguments"],[40,81,37,64],[40,87,37,67],[40,91,37,71],[41,4,39,2],[42,4,40,2],[42,8,40,6,"Platform"],[42,17,40,14],[42,18,40,14,"Platform"],[42,26,40,14],[42,27,40,15,"OS"],[42,29,40,17],[42,34,40,22],[42,39,40,27],[42,41,40,29],[43,6,41,4],[43,10,41,8,"callback"],[43,18,41,16],[43,20,41,18],[44,8,42,6],[44,15,42,13,"callback"],[44,23,42,21],[44,24,42,22,"viewRef"],[44,31,42,29],[44,32,42,30],[45,6,43,4],[45,7,43,5],[45,13,43,11],[46,8,44,6,"Promise"],[46,15,44,13],[46,16,44,14,"reject"],[46,22,44,20],[46,23,45,8],[46,27,45,12,"Error"],[46,32,45,17],[46,33,46,10],[46,97,47,8],[46,98,48,6],[46,99,48,7],[47,6,49,4],[48,4,50,2],[49,4,51,2],[49,8,51,8,"viewTag"],[49,15,51,15],[49,18,51,18,"Platform"],[49,27,51,26],[49,28,51,26,"Platform"],[49,36,51,26],[49,37,51,27,"findNodeHandle"],[49,51,51,41],[49,52,51,42,"viewRef"],[49,59,51,49],[49,60,51,50,"current"],[49,67,51,57],[49,68,51,58],[50,4,52,2],[50,8,52,6,"viewTag"],[50,15,52,13],[50,20,52,18],[50,24,52,22],[50,28,52,26,"viewTag"],[50,35,52,33],[50,40,52,38],[50,41,52,39],[50,43,52,41],[51,6,53,4],[51,13,53,11,"Skia"],[51,18,53,15],[51,19,53,15,"Skia"],[51,23,53,15],[51,24,53,16,"Image"],[51,29,53,21],[51,30,53,22,"MakeImageFromViewTag"],[51,50,53,42],[51,51,53,43,"viewTag"],[51,58,53,50],[51,59,53,51],[52,4,54,2],[53,4,55,2],[53,11,55,9,"Promise"],[53,18,55,16],[53,19,55,17,"reject"],[53,25,55,23],[53,26,55,24],[53,30,55,28,"Error"],[53,35,55,33],[53,36,55,34],[53,54,55,52],[53,55,55,53],[53,56,55,54],[54,2,56,0],[54,3,56,1],[55,0,56,2],[55,3]],"functionMap":{"names":["<global>","useImage","makeImageFromView"],"mappings":"AAA;wBCW;4CDG;iCEY;CF6B"},"hasCjsExports":false},"type":"js/module"}]}