{"dependencies":[{"name":"./Recorder/Recorder","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":602},"end":{"line":4,"column":47,"index":649}}],"key":"Yp14ztT0BW00eyWGD2Q+Jzb1RBs=","exportNames":["*"],"imports":1}},{"name":"./Recorder/Visitor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":650},"end":{"line":5,"column":43,"index":693}}],"key":"RtqQDEGXeMBLTYLIYom32UKkm90=","exportNames":["*"],"imports":1}},{"name":"./Recorder/Player","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":694},"end":{"line":6,"column":43,"index":737}}],"key":"X8N3vNeOigFvxdAqlMJQVthRzjg=","exportNames":["*"],"imports":1}},{"name":"./Recorder/DrawingContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":738},"end":{"line":7,"column":65,"index":803}}],"key":"XL/bDMuZBKua/NUqczqJSfGoxSw=","exportNames":["*"],"imports":1}},{"name":"../views/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":804},"end":{"line":8,"column":22,"index":826}}],"key":"HAOgUmBotlALkoLLqYP3y1G9R74=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"Container\", {\n    enumerable: true,\n    get: function () {\n      return Container;\n    }\n  });\n  Object.defineProperty(exports, \"StaticContainer\", {\n    enumerable: true,\n    get: function () {\n      return StaticContainer;\n    }\n  });\n  var _RecorderRecorder = require(_dependencyMap[0], \"./Recorder/Recorder\");\n  var _RecorderVisitor = require(_dependencyMap[1], \"./Recorder/Visitor\");\n  var _RecorderPlayer = require(_dependencyMap[2], \"./Recorder/Player\");\n  var _RecorderDrawingContext = require(_dependencyMap[3], \"./Recorder/DrawingContext\");\n  require(_dependencyMap[4], \"../views/api\");\n  function _defineProperty(e, r, t) {\n    return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n      value: t,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : e[r] = t, e;\n  }\n  function _toPropertyKey(t) {\n    var i = _toPrimitive(t, \"string\");\n    return \"symbol\" == typeof i ? i : i + \"\";\n  }\n  function _toPrimitive(t, r) {\n    if (\"object\" != typeof t || !t) return t;\n    var e = t[Symbol.toPrimitive];\n    if (void 0 !== e) {\n      var i = e.call(t, r || \"default\");\n      if (\"object\" != typeof i) return i;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (\"string\" === r ? String : Number)(t);\n  }\n  class Container {\n    constructor(Skia) {\n      this.Skia = Skia;\n      _defineProperty(this, \"_root\", []);\n      _defineProperty(this, \"recording\", null);\n      _defineProperty(this, \"unmounted\", false);\n    }\n    get root() {\n      return this._root;\n    }\n    set root(value) {\n      this._root = value;\n    }\n    mount() {\n      this.unmounted = false;\n    }\n    unmount() {\n      this.unmounted = true;\n    }\n    drawOnCanvas(canvas) {\n      if (!this.recording) {\n        throw new Error(\"No recording to draw\");\n      }\n      const ctx = (0, _RecorderDrawingContext.createDrawingContext)(this.Skia, this.recording.paintPool, canvas);\n      (0, _RecorderPlayer.replay)(ctx, this.recording.commands);\n    }\n  }\n  class StaticContainer extends Container {\n    constructor(Skia, nativeId) {\n      super(Skia);\n      this.nativeId = nativeId;\n    }\n    redraw() {\n      const recorder = new _RecorderRecorder.Recorder();\n      (0, _RecorderVisitor.visit)(recorder, this.root);\n      this.recording = recorder.getRecording();\n      const isOnScreen = this.nativeId !== -1;\n      if (isOnScreen) {\n        const rec = this.Skia.PictureRecorder();\n        const canvas = rec.beginRecording();\n        this.drawOnCanvas(canvas);\n        const picture = rec.finishRecordingAsPicture();\n        SkiaViewApi.setJsiProperty(this.nativeId, \"picture\", picture);\n      }\n    }\n  }\n});","lineCount":92,"map":[[7,2,9,0,"Object"],[7,8,9,0],[7,9,9,0,"defineProperty"],[7,23,9,0],[7,24,9,0,"exports"],[7,31,9,0],[8,4,9,0,"enumerable"],[8,14,9,0],[9,4,9,0,"get"],[9,7,9,0],[9,18,9,0,"get"],[9,19,9,0],[10,6,9,0],[10,13,9,0,"Container"],[10,22,9,0],[11,4,9,0],[12,2,9,0],[13,2,36,0,"Object"],[13,8,36,0],[13,9,36,0,"defineProperty"],[13,23,36,0],[13,24,36,0,"exports"],[13,31,36,0],[14,4,36,0,"enumerable"],[14,14,36,0],[15,4,36,0,"get"],[15,7,36,0],[15,18,36,0,"get"],[15,19,36,0],[16,6,36,0],[16,13,36,0,"StaticContainer"],[16,28,36,0],[17,4,36,0],[18,2,36,0],[19,2,4,0],[19,6,4,0,"_RecorderRecorder"],[19,23,4,0],[19,26,4,0,"require"],[19,33,4,0],[19,34,4,0,"_dependencyMap"],[19,48,4,0],[20,2,5,0],[20,6,5,0,"_RecorderVisitor"],[20,22,5,0],[20,25,5,0,"require"],[20,32,5,0],[20,33,5,0,"_dependencyMap"],[20,47,5,0],[21,2,6,0],[21,6,6,0,"_RecorderPlayer"],[21,21,6,0],[21,24,6,0,"require"],[21,31,6,0],[21,32,6,0,"_dependencyMap"],[21,46,6,0],[22,2,7,0],[22,6,7,0,"_RecorderDrawingContext"],[22,29,7,0],[22,32,7,0,"require"],[22,39,7,0],[22,40,7,0,"_dependencyMap"],[22,54,7,0],[23,2,8,0,"require"],[23,9,8,0],[23,10,8,0,"_dependencyMap"],[23,24,8,0],[24,2,1,0],[24,11,1,9,"_defineProperty"],[24,26,1,24,"_defineProperty"],[24,27,1,25,"e"],[24,28,1,26],[24,30,1,28,"r"],[24,31,1,29],[24,33,1,31,"t"],[24,34,1,32],[24,36,1,34],[25,4,1,36],[25,11,1,43],[25,12,1,44,"r"],[25,13,1,45],[25,16,1,48,"_toPropertyKey"],[25,30,1,62],[25,31,1,63,"r"],[25,32,1,64],[25,33,1,65],[25,38,1,70,"e"],[25,39,1,71],[25,42,1,74,"Object"],[25,48,1,80],[25,49,1,81,"defineProperty"],[25,63,1,95],[25,64,1,96,"e"],[25,65,1,97],[25,67,1,99,"r"],[25,68,1,100],[25,70,1,102],[26,6,1,104,"value"],[26,11,1,109],[26,13,1,111,"t"],[26,14,1,112],[27,6,1,114,"enumerable"],[27,16,1,124],[27,18,1,126],[27,19,1,127],[27,20,1,128],[28,6,1,130,"configurable"],[28,18,1,142],[28,20,1,144],[28,21,1,145],[28,22,1,146],[29,6,1,148,"writable"],[29,14,1,156],[29,16,1,158],[29,17,1,159],[30,4,1,161],[30,5,1,162],[30,6,1,163],[30,9,1,166,"e"],[30,10,1,167],[30,11,1,168,"r"],[30,12,1,169],[30,13,1,170],[30,16,1,173,"t"],[30,17,1,174],[30,19,1,176,"e"],[30,20,1,177],[31,2,1,179],[32,2,2,0],[32,11,2,9,"_toPropertyKey"],[32,25,2,23,"_toPropertyKey"],[32,26,2,24,"t"],[32,27,2,25],[32,29,2,27],[33,4,2,29],[33,8,2,33,"i"],[33,9,2,34],[33,12,2,37,"_toPrimitive"],[33,24,2,49],[33,25,2,50,"t"],[33,26,2,51],[33,28,2,53],[33,36,2,61],[33,37,2,62],[34,4,2,64],[34,11,2,71],[34,19,2,79],[34,23,2,83],[34,30,2,90,"i"],[34,31,2,91],[34,34,2,94,"i"],[34,35,2,95],[34,38,2,98,"i"],[34,39,2,99],[34,42,2,102],[34,44,2,104],[35,2,2,106],[36,2,3,0],[36,11,3,9,"_toPrimitive"],[36,23,3,21,"_toPrimitive"],[36,24,3,22,"t"],[36,25,3,23],[36,27,3,25,"r"],[36,28,3,26],[36,30,3,28],[37,4,3,30],[37,8,3,34],[37,16,3,42],[37,20,3,46],[37,27,3,53,"t"],[37,28,3,54],[37,32,3,58],[37,33,3,59,"t"],[37,34,3,60],[37,36,3,62],[37,43,3,69,"t"],[37,44,3,70],[38,4,3,72],[38,8,3,76,"e"],[38,9,3,77],[38,12,3,80,"t"],[38,13,3,81],[38,14,3,82,"Symbol"],[38,20,3,88],[38,21,3,89,"toPrimitive"],[38,32,3,100],[38,33,3,101],[39,4,3,103],[39,8,3,107],[39,13,3,112],[39,14,3,113],[39,19,3,118,"e"],[39,20,3,119],[39,22,3,121],[40,6,3,123],[40,10,3,127,"i"],[40,11,3,128],[40,14,3,131,"e"],[40,15,3,132],[40,16,3,133,"call"],[40,20,3,137],[40,21,3,138,"t"],[40,22,3,139],[40,24,3,141,"r"],[40,25,3,142],[40,29,3,146],[40,38,3,155],[40,39,3,156],[41,6,3,158],[41,10,3,162],[41,18,3,170],[41,22,3,174],[41,29,3,181,"i"],[41,30,3,182],[41,32,3,184],[41,39,3,191,"i"],[41,40,3,192],[42,6,3,194],[42,12,3,200],[42,16,3,204,"TypeError"],[42,25,3,213],[42,26,3,214],[42,72,3,260],[42,73,3,261],[43,4,3,263],[44,4,3,265],[44,11,3,272],[44,12,3,273],[44,20,3,281],[44,25,3,286,"r"],[44,26,3,287],[44,29,3,290,"String"],[44,35,3,296],[44,38,3,299,"Number"],[44,44,3,305],[44,46,3,307,"t"],[44,47,3,308],[44,48,3,309],[45,2,3,311],[46,2,9,7],[46,8,9,13,"Container"],[46,17,9,22],[46,18,9,23],[47,4,10,2,"constructor"],[47,15,10,13,"constructor"],[47,16,10,14,"Skia"],[47,20,10,18],[47,22,10,20],[48,6,11,4],[48,10,11,8],[48,11,11,9,"Skia"],[48,15,11,13],[48,18,11,16,"Skia"],[48,22,11,20],[49,6,12,4,"_defineProperty"],[49,21,12,19],[49,22,12,20],[49,26,12,24],[49,28,12,26],[49,35,12,33],[49,37,12,35],[49,39,12,37],[49,40,12,38],[50,6,13,4,"_defineProperty"],[50,21,13,19],[50,22,13,20],[50,26,13,24],[50,28,13,26],[50,39,13,37],[50,41,13,39],[50,45,13,43],[50,46,13,44],[51,6,14,4,"_defineProperty"],[51,21,14,19],[51,22,14,20],[51,26,14,24],[51,28,14,26],[51,39,14,37],[51,41,14,39],[51,46,14,44],[51,47,14,45],[52,4,15,2],[53,4,16,2],[53,8,16,6,"root"],[53,12,16,10,"root"],[53,13,16,10],[53,15,16,13],[54,6,17,4],[54,13,17,11],[54,17,17,15],[54,18,17,16,"_root"],[54,23,17,21],[55,4,18,2],[56,4,19,2],[56,8,19,6,"root"],[56,12,19,10,"root"],[56,13,19,11,"value"],[56,18,19,16],[56,20,19,18],[57,6,20,4],[57,10,20,8],[57,11,20,9,"_root"],[57,16,20,14],[57,19,20,17,"value"],[57,24,20,22],[58,4,21,2],[59,4,22,2,"mount"],[59,9,22,7,"mount"],[59,10,22,7],[59,12,22,10],[60,6,23,4],[60,10,23,8],[60,11,23,9,"unmounted"],[60,20,23,18],[60,23,23,21],[60,28,23,26],[61,4,24,2],[62,4,25,2,"unmount"],[62,11,25,9,"unmount"],[62,12,25,9],[62,14,25,12],[63,6,26,4],[63,10,26,8],[63,11,26,9,"unmounted"],[63,20,26,18],[63,23,26,21],[63,27,26,25],[64,4,27,2],[65,4,28,2,"drawOnCanvas"],[65,16,28,14,"drawOnCanvas"],[65,17,28,15,"canvas"],[65,23,28,21],[65,25,28,23],[66,6,29,4],[66,10,29,8],[66,11,29,9],[66,15,29,13],[66,16,29,14,"recording"],[66,25,29,23],[66,27,29,25],[67,8,30,6],[67,14,30,12],[67,18,30,16,"Error"],[67,23,30,21],[67,24,30,22],[67,46,30,44],[67,47,30,45],[68,6,31,4],[69,6,32,4],[69,12,32,10,"ctx"],[69,15,32,13],[69,18,32,16],[69,22,32,16,"createDrawingContext"],[69,45,32,36],[69,46,32,36,"createDrawingContext"],[69,66,32,36],[69,68,32,37],[69,72,32,41],[69,73,32,42,"Skia"],[69,77,32,46],[69,79,32,48],[69,83,32,52],[69,84,32,53,"recording"],[69,93,32,62],[69,94,32,63,"paintPool"],[69,103,32,72],[69,105,32,74,"canvas"],[69,111,32,80],[69,112,32,81],[70,6,33,4],[70,10,33,4,"replay"],[70,25,33,10],[70,26,33,10,"replay"],[70,32,33,10],[70,34,33,11,"ctx"],[70,37,33,14],[70,39,33,16],[70,43,33,20],[70,44,33,21,"recording"],[70,53,33,30],[70,54,33,31,"commands"],[70,62,33,39],[70,63,33,40],[71,4,34,2],[72,2,35,0],[73,2,36,7],[73,8,36,13,"StaticContainer"],[73,23,36,28],[73,32,36,37,"Container"],[73,41,36,46],[73,42,36,47],[74,4,37,2,"constructor"],[74,15,37,13,"constructor"],[74,16,37,14,"Skia"],[74,20,37,18],[74,22,37,20,"nativeId"],[74,30,37,28],[74,32,37,30],[75,6,38,4],[75,11,38,9],[75,12,38,10,"Skia"],[75,16,38,14],[75,17,38,15],[76,6,39,4],[76,10,39,8],[76,11,39,9,"nativeId"],[76,19,39,17],[76,22,39,20,"nativeId"],[76,30,39,28],[77,4,40,2],[78,4,41,2,"redraw"],[78,10,41,8,"redraw"],[78,11,41,8],[78,13,41,11],[79,6,42,4],[79,12,42,10,"recorder"],[79,20,42,18],[79,23,42,21],[79,27,42,25,"Recorder"],[79,44,42,33],[79,45,42,33,"Recorder"],[79,53,42,33],[79,54,42,34],[79,55,42,35],[80,6,43,4],[80,10,43,4,"visit"],[80,26,43,9],[80,27,43,9,"visit"],[80,32,43,9],[80,34,43,10,"recorder"],[80,42,43,18],[80,44,43,20],[80,48,43,24],[80,49,43,25,"root"],[80,53,43,29],[80,54,43,30],[81,6,44,4],[81,10,44,8],[81,11,44,9,"recording"],[81,20,44,18],[81,23,44,21,"recorder"],[81,31,44,29],[81,32,44,30,"getRecording"],[81,44,44,42],[81,45,44,43],[81,46,44,44],[82,6,45,4],[82,12,45,10,"isOnScreen"],[82,22,45,20],[82,25,45,23],[82,29,45,27],[82,30,45,28,"nativeId"],[82,38,45,36],[82,43,45,41],[82,44,45,42],[82,45,45,43],[83,6,46,4],[83,10,46,8,"isOnScreen"],[83,20,46,18],[83,22,46,20],[84,8,47,6],[84,14,47,12,"rec"],[84,17,47,15],[84,20,47,18],[84,24,47,22],[84,25,47,23,"Skia"],[84,29,47,27],[84,30,47,28,"PictureRecorder"],[84,45,47,43],[84,46,47,44],[84,47,47,45],[85,8,48,6],[85,14,48,12,"canvas"],[85,20,48,18],[85,23,48,21,"rec"],[85,26,48,24],[85,27,48,25,"beginRecording"],[85,41,48,39],[85,42,48,40],[85,43,48,41],[86,8,49,6],[86,12,49,10],[86,13,49,11,"drawOnCanvas"],[86,25,49,23],[86,26,49,24,"canvas"],[86,32,49,30],[86,33,49,31],[87,8,50,6],[87,14,50,12,"picture"],[87,21,50,19],[87,24,50,22,"rec"],[87,27,50,25],[87,28,50,26,"finishRecordingAsPicture"],[87,52,50,50],[87,53,50,51],[87,54,50,52],[88,8,51,6,"SkiaViewApi"],[88,19,51,17],[88,20,51,18,"setJsiProperty"],[88,34,51,32],[88,35,51,33],[88,39,51,37],[88,40,51,38,"nativeId"],[88,48,51,46],[88,50,51,48],[88,59,51,57],[88,61,51,59,"picture"],[88,68,51,66],[88,69,51,67],[89,6,52,4],[90,4,53,2],[91,2,54,0],[92,0,54,1],[92,3]],"functionMap":{"names":["_defineProperty","<global>","_toPropertyKey","_toPrimitive","Container","Container#constructor","Container#get__root","Container#set__root","Container#mount","Container#unmount","Container#drawOnCanvas","StaticContainer","constructor","redraw"],"mappings":"AAA,oLC;ACC,2GD;AEC,wTF;OGM;ECC;GDK;EEC;GFE;EGC;GHE;EIC;GJE;EKC;GLE;EMC;GNM;CHC;OUC;ECC;GDG;EEC;GFY;CVC"},"hasCjsExports":false},"type":"js/module"}]}