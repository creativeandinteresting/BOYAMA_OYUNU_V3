{"dependencies":[{"name":"../types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":67,"index":67}}],"key":"SiqkZ9nARqNkdXfcIWbBgsKp5Yo=","exportNames":["*"],"imports":1}},{"name":"./Host","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":68},"end":{"line":2,"column":67,"index":135}}],"key":"BQhWeBRDaUSxZaA5iU6wGzQsFFs=","exportNames":["*"],"imports":1}},{"name":"./JsiSkImage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":136},"end":{"line":3,"column":42,"index":178}}],"key":"5HhJKBZpkVLC59VDnsBNlnwB3DE=","exportNames":["*"],"imports":1}},{"name":"./JsiSkData","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":179},"end":{"line":4,"column":40,"index":219}}],"key":"c+biP0KCYKcLc6xq5NFUJB5wGKM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"JsiSkImageFactory\", {\n    enumerable: true,\n    get: function () {\n      return JsiSkImageFactory;\n    }\n  });\n  var _types = require(_dependencyMap[0], \"../types\");\n  var _Host = require(_dependencyMap[1], \"./Host\");\n  var _JsiSkImage = require(_dependencyMap[2], \"./JsiSkImage\");\n  var _JsiSkData = require(_dependencyMap[3], \"./JsiSkData\");\n  class JsiSkImageFactory extends _Host.Host {\n    constructor(CanvasKit) {\n      super(CanvasKit);\n    }\n    MakeNull() {\n      return new _JsiSkImage.JsiSkImage(this.CanvasKit, null);\n    }\n    MakeImageFromViewTag(viewTag) {\n      const view = viewTag;\n      // TODO: Implement screenshot from view in React JS\n      console.log(view);\n      return Promise.resolve(null);\n    }\n    MakeImageFromNativeBuffer(buffer, surface, image) {\n      if (!(0, _types.isNativeBufferWeb)(buffer)) {\n        throw new Error(\"Invalid NativeBuffer\");\n      }\n      if (!surface) {\n        let img;\n        if (buffer instanceof HTMLImageElement || buffer instanceof HTMLVideoElement || buffer instanceof ImageBitmap) {\n          img = this.CanvasKit.MakeLazyImageFromTextureSource(buffer);\n        } else if (buffer instanceof _types.CanvasKitWebGLBuffer) {\n          img = buffer.toImage();\n        } else {\n          img = this.CanvasKit.MakeImageFromCanvasImageSource(buffer);\n        }\n        return new _JsiSkImage.JsiSkImage(this.CanvasKit, img);\n      } else if (!image) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const img = surface.makeImageFromTextureSource(buffer);\n        return new _JsiSkImage.JsiSkImage(this.CanvasKit, img);\n      } else {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const img = surface.updateTextureFromSource(image, buffer);\n        return new _JsiSkImage.JsiSkImage(this.CanvasKit, img);\n      }\n    }\n    MakeImageFromEncoded(encoded) {\n      const image = this.CanvasKit.MakeImageFromEncoded(_JsiSkData.JsiSkData.fromValue(encoded));\n      if (image === null) {\n        return null;\n      }\n      return new _JsiSkImage.JsiSkImage(this.CanvasKit, image);\n    }\n    MakeImageFromNativeTextureUnstable() {\n      return (0, _Host.throwNotImplementedOnRNWeb)();\n    }\n    MakeImage(info, data, bytesPerRow) {\n      // see toSkImageInfo() from canvaskit\n      const image = this.CanvasKit.MakeImage({\n        alphaType: (0, _Host.getEnum)(this.CanvasKit, \"AlphaType\", info.alphaType),\n        colorSpace: this.CanvasKit.ColorSpace.SRGB,\n        colorType: (0, _Host.getEnum)(this.CanvasKit, \"ColorType\", info.colorType),\n        height: info.height,\n        width: info.width\n      }, _JsiSkData.JsiSkData.fromValue(data), bytesPerRow);\n      if (image === null) {\n        return null;\n      }\n      return new _JsiSkImage.JsiSkImage(this.CanvasKit, image);\n    }\n  }\n});","lineCount":79,"map":[[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"JsiSkImageFactory"],[10,30,5,0],[11,4,5,0],[12,2,5,0],[13,2,1,0],[13,6,1,0,"_types"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_Host"],[14,11,2,0],[14,14,2,0,"require"],[14,21,2,0],[14,22,2,0,"_dependencyMap"],[14,36,2,0],[15,2,3,0],[15,6,3,0,"_JsiSkImage"],[15,17,3,0],[15,20,3,0,"require"],[15,27,3,0],[15,28,3,0,"_dependencyMap"],[15,42,3,0],[16,2,4,0],[16,6,4,0,"_JsiSkData"],[16,16,4,0],[16,19,4,0,"require"],[16,26,4,0],[16,27,4,0,"_dependencyMap"],[16,41,4,0],[17,2,5,7],[17,8,5,13,"JsiSkImageFactory"],[17,25,5,30],[17,34,5,39,"Host"],[17,39,5,43],[17,40,5,43,"Host"],[17,44,5,43],[17,45,5,44],[18,4,6,2,"constructor"],[18,15,6,13,"constructor"],[18,16,6,14,"CanvasKit"],[18,25,6,23],[18,27,6,25],[19,6,7,4],[19,11,7,9],[19,12,7,10,"CanvasKit"],[19,21,7,19],[19,22,7,20],[20,4,8,2],[21,4,9,2,"MakeNull"],[21,12,9,10,"MakeNull"],[21,13,9,10],[21,15,9,13],[22,6,10,4],[22,13,10,11],[22,17,10,15,"JsiSkImage"],[22,28,10,25],[22,29,10,25,"JsiSkImage"],[22,39,10,25],[22,40,10,26],[22,44,10,30],[22,45,10,31,"CanvasKit"],[22,54,10,40],[22,56,10,42],[22,60,10,46],[22,61,10,47],[23,4,11,2],[24,4,12,2,"MakeImageFromViewTag"],[24,24,12,22,"MakeImageFromViewTag"],[24,25,12,23,"viewTag"],[24,32,12,30],[24,34,12,32],[25,6,13,4],[25,12,13,10,"view"],[25,16,13,14],[25,19,13,17,"viewTag"],[25,26,13,24],[26,6,14,4],[27,6,15,4,"console"],[27,13,15,11],[27,14,15,12,"log"],[27,17,15,15],[27,18,15,16,"view"],[27,22,15,20],[27,23,15,21],[28,6,16,4],[28,13,16,11,"Promise"],[28,20,16,18],[28,21,16,19,"resolve"],[28,28,16,26],[28,29,16,27],[28,33,16,31],[28,34,16,32],[29,4,17,2],[30,4,18,2,"MakeImageFromNativeBuffer"],[30,29,18,27,"MakeImageFromNativeBuffer"],[30,30,18,28,"buffer"],[30,36,18,34],[30,38,18,36,"surface"],[30,45,18,43],[30,47,18,45,"image"],[30,52,18,50],[30,54,18,52],[31,6,19,4],[31,10,19,8],[31,11,19,9],[31,15,19,9,"isNativeBufferWeb"],[31,21,19,26],[31,22,19,26,"isNativeBufferWeb"],[31,39,19,26],[31,41,19,27,"buffer"],[31,47,19,33],[31,48,19,34],[31,50,19,36],[32,8,20,6],[32,14,20,12],[32,18,20,16,"Error"],[32,23,20,21],[32,24,20,22],[32,46,20,44],[32,47,20,45],[33,6,21,4],[34,6,22,4],[34,10,22,8],[34,11,22,9,"surface"],[34,18,22,16],[34,20,22,18],[35,8,23,6],[35,12,23,10,"img"],[35,15,23,13],[36,8,24,6],[36,12,24,10,"buffer"],[36,18,24,16],[36,30,24,28,"HTMLImageElement"],[36,46,24,44],[36,50,24,48,"buffer"],[36,56,24,54],[36,68,24,66,"HTMLVideoElement"],[36,84,24,82],[36,88,24,86,"buffer"],[36,94,24,92],[36,106,24,104,"ImageBitmap"],[36,117,24,115],[36,119,24,117],[37,10,25,8,"img"],[37,13,25,11],[37,16,25,14],[37,20,25,18],[37,21,25,19,"CanvasKit"],[37,30,25,28],[37,31,25,29,"MakeLazyImageFromTextureSource"],[37,61,25,59],[37,62,25,60,"buffer"],[37,68,25,66],[37,69,25,67],[38,8,26,6],[38,9,26,7],[38,15,26,13],[38,19,26,17,"buffer"],[38,25,26,23],[38,37,26,35,"CanvasKitWebGLBuffer"],[38,43,26,55],[38,44,26,55,"CanvasKitWebGLBuffer"],[38,64,26,55],[38,66,26,57],[39,10,27,8,"img"],[39,13,27,11],[39,16,27,14,"buffer"],[39,22,27,20],[39,23,27,21,"toImage"],[39,30,27,28],[39,31,27,29],[39,32,27,30],[40,8,28,6],[40,9,28,7],[40,15,28,13],[41,10,29,8,"img"],[41,13,29,11],[41,16,29,14],[41,20,29,18],[41,21,29,19,"CanvasKit"],[41,30,29,28],[41,31,29,29,"MakeImageFromCanvasImageSource"],[41,61,29,59],[41,62,29,60,"buffer"],[41,68,29,66],[41,69,29,67],[42,8,30,6],[43,8,31,6],[43,15,31,13],[43,19,31,17,"JsiSkImage"],[43,30,31,27],[43,31,31,27,"JsiSkImage"],[43,41,31,27],[43,42,31,28],[43,46,31,32],[43,47,31,33,"CanvasKit"],[43,56,31,42],[43,58,31,44,"img"],[43,61,31,47],[43,62,31,48],[44,6,32,4],[44,7,32,5],[44,13,32,11],[44,17,32,15],[44,18,32,16,"image"],[44,23,32,21],[44,25,32,23],[45,8,33,6],[46,8,34,6],[46,14,34,12,"img"],[46,17,34,15],[46,20,34,18,"surface"],[46,27,34,25],[46,28,34,26,"makeImageFromTextureSource"],[46,54,34,52],[46,55,34,53,"buffer"],[46,61,34,59],[46,62,34,60],[47,8,35,6],[47,15,35,13],[47,19,35,17,"JsiSkImage"],[47,30,35,27],[47,31,35,27,"JsiSkImage"],[47,41,35,27],[47,42,35,28],[47,46,35,32],[47,47,35,33,"CanvasKit"],[47,56,35,42],[47,58,35,44,"img"],[47,61,35,47],[47,62,35,48],[48,6,36,4],[48,7,36,5],[48,13,36,11],[49,8,37,6],[50,8,38,6],[50,14,38,12,"img"],[50,17,38,15],[50,20,38,18,"surface"],[50,27,38,25],[50,28,38,26,"updateTextureFromSource"],[50,51,38,49],[50,52,38,50,"image"],[50,57,38,55],[50,59,38,57,"buffer"],[50,65,38,63],[50,66,38,64],[51,8,39,6],[51,15,39,13],[51,19,39,17,"JsiSkImage"],[51,30,39,27],[51,31,39,27,"JsiSkImage"],[51,41,39,27],[51,42,39,28],[51,46,39,32],[51,47,39,33,"CanvasKit"],[51,56,39,42],[51,58,39,44,"img"],[51,61,39,47],[51,62,39,48],[52,6,40,4],[53,4,41,2],[54,4,42,2,"MakeImageFromEncoded"],[54,24,42,22,"MakeImageFromEncoded"],[54,25,42,23,"encoded"],[54,32,42,30],[54,34,42,32],[55,6,43,4],[55,12,43,10,"image"],[55,17,43,15],[55,20,43,18],[55,24,43,22],[55,25,43,23,"CanvasKit"],[55,34,43,32],[55,35,43,33,"MakeImageFromEncoded"],[55,55,43,53],[55,56,43,54,"JsiSkData"],[55,66,43,63],[55,67,43,63,"JsiSkData"],[55,76,43,63],[55,77,43,64,"fromValue"],[55,86,43,73],[55,87,43,74,"encoded"],[55,94,43,81],[55,95,43,82],[55,96,43,83],[56,6,44,4],[56,10,44,8,"image"],[56,15,44,13],[56,20,44,18],[56,24,44,22],[56,26,44,24],[57,8,45,6],[57,15,45,13],[57,19,45,17],[58,6,46,4],[59,6,47,4],[59,13,47,11],[59,17,47,15,"JsiSkImage"],[59,28,47,25],[59,29,47,25,"JsiSkImage"],[59,39,47,25],[59,40,47,26],[59,44,47,30],[59,45,47,31,"CanvasKit"],[59,54,47,40],[59,56,47,42,"image"],[59,61,47,47],[59,62,47,48],[60,4,48,2],[61,4,49,2,"MakeImageFromNativeTextureUnstable"],[61,38,49,36,"MakeImageFromNativeTextureUnstable"],[61,39,49,36],[61,41,49,39],[62,6,50,4],[62,13,50,11],[62,17,50,11,"throwNotImplementedOnRNWeb"],[62,22,50,37],[62,23,50,37,"throwNotImplementedOnRNWeb"],[62,49,50,37],[62,51,50,38],[62,52,50,39],[63,4,51,2],[64,4,52,2,"MakeImage"],[64,13,52,11,"MakeImage"],[64,14,52,12,"info"],[64,18,52,16],[64,20,52,18,"data"],[64,24,52,22],[64,26,52,24,"bytesPerRow"],[64,37,52,35],[64,39,52,37],[65,6,53,4],[66,6,54,4],[66,12,54,10,"image"],[66,17,54,15],[66,20,54,18],[66,24,54,22],[66,25,54,23,"CanvasKit"],[66,34,54,32],[66,35,54,33,"MakeImage"],[66,44,54,42],[66,45,54,43],[67,8,55,6,"alphaType"],[67,17,55,15],[67,19,55,17],[67,23,55,17,"getEnum"],[67,28,55,24],[67,29,55,24,"getEnum"],[67,36,55,24],[67,38,55,25],[67,42,55,29],[67,43,55,30,"CanvasKit"],[67,52,55,39],[67,54,55,41],[67,65,55,52],[67,67,55,54,"info"],[67,71,55,58],[67,72,55,59,"alphaType"],[67,81,55,68],[67,82,55,69],[68,8,56,6,"colorSpace"],[68,18,56,16],[68,20,56,18],[68,24,56,22],[68,25,56,23,"CanvasKit"],[68,34,56,32],[68,35,56,33,"ColorSpace"],[68,45,56,43],[68,46,56,44,"SRGB"],[68,50,56,48],[69,8,57,6,"colorType"],[69,17,57,15],[69,19,57,17],[69,23,57,17,"getEnum"],[69,28,57,24],[69,29,57,24,"getEnum"],[69,36,57,24],[69,38,57,25],[69,42,57,29],[69,43,57,30,"CanvasKit"],[69,52,57,39],[69,54,57,41],[69,65,57,52],[69,67,57,54,"info"],[69,71,57,58],[69,72,57,59,"colorType"],[69,81,57,68],[69,82,57,69],[70,8,58,6,"height"],[70,14,58,12],[70,16,58,14,"info"],[70,20,58,18],[70,21,58,19,"height"],[70,27,58,25],[71,8,59,6,"width"],[71,13,59,11],[71,15,59,13,"info"],[71,19,59,17],[71,20,59,18,"width"],[72,6,60,4],[72,7,60,5],[72,9,60,7,"JsiSkData"],[72,19,60,16],[72,20,60,16,"JsiSkData"],[72,29,60,16],[72,30,60,17,"fromValue"],[72,39,60,26],[72,40,60,27,"data"],[72,44,60,31],[72,45,60,32],[72,47,60,34,"bytesPerRow"],[72,58,60,45],[72,59,60,46],[73,6,61,4],[73,10,61,8,"image"],[73,15,61,13],[73,20,61,18],[73,24,61,22],[73,26,61,24],[74,8,62,6],[74,15,62,13],[74,19,62,17],[75,6,63,4],[76,6,64,4],[76,13,64,11],[76,17,64,15,"JsiSkImage"],[76,28,64,25],[76,29,64,25,"JsiSkImage"],[76,39,64,25],[76,40,64,26],[76,44,64,30],[76,45,64,31,"CanvasKit"],[76,54,64,40],[76,56,64,42,"image"],[76,61,64,47],[76,62,64,48],[77,4,65,2],[78,2,66,0],[79,0,66,1],[79,3]],"functionMap":{"names":["<global>","JsiSkImageFactory","constructor","MakeNull","MakeImageFromViewTag","MakeImageFromNativeBuffer","MakeImageFromEncoded","MakeImageFromNativeTextureUnstable","MakeImage"],"mappings":"AAA;OCI;ECC;GDE;EEC;GFE;EGC;GHK;EIC;GJuB;EKC;GLM;EMC;GNE;EOC;GPa;CDC"},"hasCjsExports":false},"type":"js/module"}]}