{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":19},"end":{"line":2,"column":53,"index":72}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../Skia","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":73},"end":{"line":3,"column":31,"index":104}}],"key":"5eRJ3Y/mp/EEiynYa3WwzXcSMXc=","exportNames":["*"],"imports":1}},{"name":"../types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":105},"end":{"line":4,"column":37,"index":142}}],"key":"SiqkZ9nARqNkdXfcIWbBgsKp5Yo=","exportNames":["*"],"imports":1}},{"name":"../../Platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":143},"end":{"line":5,"column":42,"index":185}}],"key":"AXHAxFjlDdeq1JxYZnWn+aHYhYU=","exportNames":["*"],"imports":1}},{"name":"./Typeface","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":186},"end":{"line":6,"column":41,"index":227}}],"key":"T7PcoThZRvZLszyHdGWlQbNTLZw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useFont\", {\n    enumerable: true,\n    get: function () {\n      return useFont;\n    }\n  });\n  Object.defineProperty(exports, \"matchFont\", {\n    enumerable: true,\n    get: function () {\n      return matchFont;\n    }\n  });\n  Object.defineProperty(exports, \"listFontFamilies\", {\n    enumerable: true,\n    get: function () {\n      return listFontFamilies;\n    }\n  });\n  Object.defineProperty(exports, \"useFonts\", {\n    enumerable: true,\n    get: function () {\n      return useFonts;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _Skia = require(_dependencyMap[1], \"../Skia\");\n  var _types = require(_dependencyMap[2], \"../types\");\n  var _Platform = require(_dependencyMap[3], \"../../Platform\");\n  var _Typeface = require(_dependencyMap[4], \"./Typeface\");\n  /*global SkiaApi*/\n\n  const defaultFontSize = 14;\n\n  /**\n   * Returns a Skia Font object\n   * */\n  const useFont = (font, size = defaultFontSize, onError) => {\n    const typeface = (0, _Typeface.useTypeface)(font, onError);\n    return (0, _react.useMemo)(() => {\n      if (typeface) {\n        return _Skia.Skia.Font(typeface, size);\n      } else {\n        return null;\n      }\n    }, [size, typeface]);\n  };\n  const defaultFontStyle = {\n    fontFamily: \"System\",\n    fontSize: defaultFontSize,\n    fontStyle: \"normal\",\n    fontWeight: \"normal\"\n  };\n  const slant = s => {\n    if (s === \"italic\") {\n      return _types.FontSlant.Italic;\n    } else if (s === \"oblique\") {\n      return _types.FontSlant.Oblique;\n    } else {\n      return _types.FontSlant.Upright;\n    }\n  };\n  const weight = fontWeight => {\n    switch (fontWeight) {\n      case \"normal\":\n        return 400;\n      case \"bold\":\n        return 700;\n      default:\n        return parseInt(fontWeight, 10);\n    }\n  };\n  const matchFont = (inputStyle = {}, fontMgr = _Skia.Skia.FontMgr.System()) => {\n    const fontStyle = {\n      ...defaultFontStyle,\n      ...inputStyle\n    };\n    const style = {\n      weight: weight(fontStyle.fontWeight),\n      width: 5,\n      slant: slant(fontStyle.fontStyle)\n    };\n    const typeface = fontMgr.matchFamilyStyle(fontStyle.fontFamily, style);\n    return _Skia.Skia.Font(typeface, fontStyle.fontSize);\n  };\n  const listFontFamilies = (fontMgr = _Skia.Skia.FontMgr.System()) => new Array(fontMgr.countFamilies()).fill(0).map((_, i) => fontMgr.getFamilyName(i));\n  const loadTypefaces = typefacesToLoad => {\n    const promises = Object.keys(typefacesToLoad).flatMap(familyName => {\n      return typefacesToLoad[familyName].map(typefaceToLoad => {\n        return _Skia.Skia.Data.fromURI(_Platform.Platform.resolveAsset(typefaceToLoad)).then(data => {\n          const tf = _Skia.Skia.Typeface.MakeFreeTypeFaceFromData(data);\n          if (tf === null) {\n            throw new Error(`Couldn't create typeface for ${familyName}`);\n          }\n          return [familyName, tf];\n        });\n      });\n    });\n    return Promise.all(promises);\n  };\n  const useFonts = sources => {\n    const [fontMgr, setFontMgr] = (0, _react.useState)(null);\n    (0, _react.useEffect)(() => {\n      loadTypefaces(sources).then(result => {\n        const fMgr = _Skia.Skia.TypefaceFontProvider.Make();\n        result.forEach(([familyName, typeface]) => {\n          fMgr.registerFont(typeface, familyName);\n        });\n        setFontMgr(fMgr);\n      });\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return fontMgr;\n  };\n});","lineCount":120,"map":[[7,2,12,0,"Object"],[7,8,12,0],[7,9,12,0,"defineProperty"],[7,23,12,0],[7,24,12,0,"exports"],[7,31,12,0],[8,4,12,0,"enumerable"],[8,14,12,0],[9,4,12,0,"get"],[9,7,12,0],[9,18,12,0,"get"],[9,19,12,0],[10,6,12,0],[10,13,12,0,"useFont"],[10,20,12,0],[11,4,12,0],[12,2,12,0],[13,2,47,0,"Object"],[13,8,47,0],[13,9,47,0,"defineProperty"],[13,23,47,0],[13,24,47,0,"exports"],[13,31,47,0],[14,4,47,0,"enumerable"],[14,14,47,0],[15,4,47,0,"get"],[15,7,47,0],[15,18,47,0,"get"],[15,19,47,0],[16,6,47,0],[16,13,47,0,"matchFont"],[16,22,47,0],[17,4,47,0],[18,2,47,0],[19,2,60,0,"Object"],[19,8,60,0],[19,9,60,0,"defineProperty"],[19,23,60,0],[19,24,60,0,"exports"],[19,31,60,0],[20,4,60,0,"enumerable"],[20,14,60,0],[21,4,60,0,"get"],[21,7,60,0],[21,18,60,0,"get"],[21,19,60,0],[22,6,60,0],[22,13,60,0,"listFontFamilies"],[22,29,60,0],[23,4,60,0],[24,2,60,0],[25,2,75,0,"Object"],[25,8,75,0],[25,9,75,0,"defineProperty"],[25,23,75,0],[25,24,75,0,"exports"],[25,31,75,0],[26,4,75,0,"enumerable"],[26,14,75,0],[27,4,75,0,"get"],[27,7,75,0],[27,18,75,0,"get"],[27,19,75,0],[28,6,75,0],[28,13,75,0,"useFonts"],[28,21,75,0],[29,4,75,0],[30,2,75,0],[31,2,2,0],[31,6,2,0,"_react"],[31,12,2,0],[31,15,2,0,"require"],[31,22,2,0],[31,23,2,0,"_dependencyMap"],[31,37,2,0],[32,2,3,0],[32,6,3,0,"_Skia"],[32,11,3,0],[32,14,3,0,"require"],[32,21,3,0],[32,22,3,0,"_dependencyMap"],[32,36,3,0],[33,2,4,0],[33,6,4,0,"_types"],[33,12,4,0],[33,15,4,0,"require"],[33,22,4,0],[33,23,4,0,"_dependencyMap"],[33,37,4,0],[34,2,5,0],[34,6,5,0,"_Platform"],[34,15,5,0],[34,18,5,0,"require"],[34,25,5,0],[34,26,5,0,"_dependencyMap"],[34,40,5,0],[35,2,6,0],[35,6,6,0,"_Typeface"],[35,15,6,0],[35,18,6,0,"require"],[35,25,6,0],[35,26,6,0,"_dependencyMap"],[35,40,6,0],[36,2,1,0],[38,2,7,0],[38,8,7,6,"defaultFontSize"],[38,23,7,21],[38,26,7,24],[38,28,7,26],[40,2,9,0],[41,0,10,0],[42,0,11,0],[43,2,12,7],[43,8,12,13,"useFont"],[43,15,12,20],[43,18,12,23,"useFont"],[43,19,12,24,"font"],[43,23,12,28],[43,25,12,30,"size"],[43,29,12,34],[43,32,12,37,"defaultFontSize"],[43,47,12,52],[43,49,12,54,"onError"],[43,56,12,61],[43,61,12,66],[44,4,13,2],[44,10,13,8,"typeface"],[44,18,13,16],[44,21,13,19],[44,25,13,19,"useTypeface"],[44,34,13,30],[44,35,13,30,"useTypeface"],[44,46,13,30],[44,48,13,31,"font"],[44,52,13,35],[44,54,13,37,"onError"],[44,61,13,44],[44,62,13,45],[45,4,14,2],[45,11,14,9],[45,15,14,9,"useMemo"],[45,21,14,16],[45,22,14,16,"useMemo"],[45,29,14,16],[45,31,14,17],[45,37,14,23],[46,6,15,4],[46,10,15,8,"typeface"],[46,18,15,16],[46,20,15,18],[47,8,16,6],[47,15,16,13,"Skia"],[47,20,16,17],[47,21,16,17,"Skia"],[47,25,16,17],[47,26,16,18,"Font"],[47,30,16,22],[47,31,16,23,"typeface"],[47,39,16,31],[47,41,16,33,"size"],[47,45,16,37],[47,46,16,38],[48,6,17,4],[48,7,17,5],[48,13,17,11],[49,8,18,6],[49,15,18,13],[49,19,18,17],[50,6,19,4],[51,4,20,2],[51,5,20,3],[51,7,20,5],[51,8,20,6,"size"],[51,12,20,10],[51,14,20,12,"typeface"],[51,22,20,20],[51,23,20,21],[51,24,20,22],[52,2,21,0],[52,3,21,1],[53,2,22,0],[53,8,22,6,"defaultFontStyle"],[53,24,22,22],[53,27,22,25],[54,4,23,2,"fontFamily"],[54,14,23,12],[54,16,23,14],[54,24,23,22],[55,4,24,2,"fontSize"],[55,12,24,10],[55,14,24,12,"defaultFontSize"],[55,29,24,27],[56,4,25,2,"fontStyle"],[56,13,25,11],[56,15,25,13],[56,23,25,21],[57,4,26,2,"fontWeight"],[57,14,26,12],[57,16,26,14],[58,2,27,0],[58,3,27,1],[59,2,28,0],[59,8,28,6,"slant"],[59,13,28,11],[59,16,28,14,"s"],[59,17,28,15],[59,21,28,19],[60,4,29,2],[60,8,29,6,"s"],[60,9,29,7],[60,14,29,12],[60,22,29,20],[60,24,29,22],[61,6,30,4],[61,13,30,11,"FontSlant"],[61,19,30,20],[61,20,30,20,"FontSlant"],[61,29,30,20],[61,30,30,21,"Italic"],[61,36,30,27],[62,4,31,2],[62,5,31,3],[62,11,31,9],[62,15,31,13,"s"],[62,16,31,14],[62,21,31,19],[62,30,31,28],[62,32,31,30],[63,6,32,4],[63,13,32,11,"FontSlant"],[63,19,32,20],[63,20,32,20,"FontSlant"],[63,29,32,20],[63,30,32,21,"Oblique"],[63,37,32,28],[64,4,33,2],[64,5,33,3],[64,11,33,9],[65,6,34,4],[65,13,34,11,"FontSlant"],[65,19,34,20],[65,20,34,20,"FontSlant"],[65,29,34,20],[65,30,34,21,"Upright"],[65,37,34,28],[66,4,35,2],[67,2,36,0],[67,3,36,1],[68,2,37,0],[68,8,37,6,"weight"],[68,14,37,12],[68,17,37,15,"fontWeight"],[68,27,37,25],[68,31,37,29],[69,4,38,2],[69,12,38,10,"fontWeight"],[69,22,38,20],[70,6,39,4],[70,11,39,9],[70,19,39,17],[71,8,40,6],[71,15,40,13],[71,18,40,16],[72,6,41,4],[72,11,41,9],[72,17,41,15],[73,8,42,6],[73,15,42,13],[73,18,42,16],[74,6,43,4],[75,8,44,6],[75,15,44,13,"parseInt"],[75,23,44,21],[75,24,44,22,"fontWeight"],[75,34,44,32],[75,36,44,34],[75,38,44,36],[75,39,44,37],[76,4,45,2],[77,2,46,0],[77,3,46,1],[78,2,47,7],[78,8,47,13,"matchFont"],[78,17,47,22],[78,20,47,25,"matchFont"],[78,21,47,26,"inputStyle"],[78,31,47,36],[78,34,47,39],[78,35,47,40],[78,36,47,41],[78,38,47,43,"fontMgr"],[78,45,47,50],[78,48,47,53,"Skia"],[78,53,47,57],[78,54,47,57,"Skia"],[78,58,47,57],[78,59,47,58,"FontMgr"],[78,66,47,65],[78,67,47,66,"System"],[78,73,47,72],[78,74,47,73],[78,75,47,74],[78,80,47,79],[79,4,48,2],[79,10,48,8,"fontStyle"],[79,19,48,17],[79,22,48,20],[80,6,49,4],[80,9,49,7,"defaultFontStyle"],[80,25,49,23],[81,6,50,4],[81,9,50,7,"inputStyle"],[82,4,51,2],[82,5,51,3],[83,4,52,2],[83,10,52,8,"style"],[83,15,52,13],[83,18,52,16],[84,6,53,4,"weight"],[84,12,53,10],[84,14,53,12,"weight"],[84,20,53,18],[84,21,53,19,"fontStyle"],[84,30,53,28],[84,31,53,29,"fontWeight"],[84,41,53,39],[84,42,53,40],[85,6,54,4,"width"],[85,11,54,9],[85,13,54,11],[85,14,54,12],[86,6,55,4,"slant"],[86,11,55,9],[86,13,55,11,"slant"],[86,18,55,16],[86,19,55,17,"fontStyle"],[86,28,55,26],[86,29,55,27,"fontStyle"],[86,38,55,36],[87,4,56,2],[87,5,56,3],[88,4,57,2],[88,10,57,8,"typeface"],[88,18,57,16],[88,21,57,19,"fontMgr"],[88,28,57,26],[88,29,57,27,"matchFamilyStyle"],[88,45,57,43],[88,46,57,44,"fontStyle"],[88,55,57,53],[88,56,57,54,"fontFamily"],[88,66,57,64],[88,68,57,66,"style"],[88,73,57,71],[88,74,57,72],[89,4,58,2],[89,11,58,9,"Skia"],[89,16,58,13],[89,17,58,13,"Skia"],[89,21,58,13],[89,22,58,14,"Font"],[89,26,58,18],[89,27,58,19,"typeface"],[89,35,58,27],[89,37,58,29,"fontStyle"],[89,46,58,38],[89,47,58,39,"fontSize"],[89,55,58,47],[89,56,58,48],[90,2,59,0],[90,3,59,1],[91,2,60,7],[91,8,60,13,"listFontFamilies"],[91,24,60,29],[91,27,60,32,"listFontFamilies"],[91,28,60,33,"fontMgr"],[91,35,60,40],[91,38,60,43,"Skia"],[91,43,60,47],[91,44,60,47,"Skia"],[91,48,60,47],[91,49,60,48,"FontMgr"],[91,56,60,55],[91,57,60,56,"System"],[91,63,60,62],[91,64,60,63],[91,65,60,64],[91,70,60,69],[91,74,60,73,"Array"],[91,79,60,78],[91,80,60,79,"fontMgr"],[91,87,60,86],[91,88,60,87,"countFamilies"],[91,101,60,100],[91,102,60,101],[91,103,60,102],[91,104,60,103],[91,105,60,104,"fill"],[91,109,60,108],[91,110,60,109],[91,111,60,110],[91,112,60,111],[91,113,60,112,"map"],[91,116,60,115],[91,117,60,116],[91,118,60,117,"_"],[91,119,60,118],[91,121,60,120,"i"],[91,122,60,121],[91,127,60,126,"fontMgr"],[91,134,60,133],[91,135,60,134,"getFamilyName"],[91,148,60,147],[91,149,60,148,"i"],[91,150,60,149],[91,151,60,150],[91,152,60,151],[92,2,61,0],[92,8,61,6,"loadTypefaces"],[92,21,61,19],[92,24,61,22,"typefacesToLoad"],[92,39,61,37],[92,43,61,41],[93,4,62,2],[93,10,62,8,"promises"],[93,18,62,16],[93,21,62,19,"Object"],[93,27,62,25],[93,28,62,26,"keys"],[93,32,62,30],[93,33,62,31,"typefacesToLoad"],[93,48,62,46],[93,49,62,47],[93,50,62,48,"flatMap"],[93,57,62,55],[93,58,62,56,"familyName"],[93,68,62,66],[93,72,62,70],[94,6,63,4],[94,13,63,11,"typefacesToLoad"],[94,28,63,26],[94,29,63,27,"familyName"],[94,39,63,37],[94,40,63,38],[94,41,63,39,"map"],[94,44,63,42],[94,45,63,43,"typefaceToLoad"],[94,59,63,57],[94,63,63,61],[95,8,64,6],[95,15,64,13,"Skia"],[95,20,64,17],[95,21,64,17,"Skia"],[95,25,64,17],[95,26,64,18,"Data"],[95,30,64,22],[95,31,64,23,"fromURI"],[95,38,64,30],[95,39,64,31,"Platform"],[95,48,64,39],[95,49,64,39,"Platform"],[95,57,64,39],[95,58,64,40,"resolveAsset"],[95,70,64,52],[95,71,64,53,"typefaceToLoad"],[95,85,64,67],[95,86,64,68],[95,87,64,69],[95,88,64,70,"then"],[95,92,64,74],[95,93,64,75,"data"],[95,97,64,79],[95,101,64,83],[96,10,65,8],[96,16,65,14,"tf"],[96,18,65,16],[96,21,65,19,"Skia"],[96,26,65,23],[96,27,65,23,"Skia"],[96,31,65,23],[96,32,65,24,"Typeface"],[96,40,65,32],[96,41,65,33,"MakeFreeTypeFaceFromData"],[96,65,65,57],[96,66,65,58,"data"],[96,70,65,62],[96,71,65,63],[97,10,66,8],[97,14,66,12,"tf"],[97,16,66,14],[97,21,66,19],[97,25,66,23],[97,27,66,25],[98,12,67,10],[98,18,67,16],[98,22,67,20,"Error"],[98,27,67,25],[98,28,67,26],[98,60,67,58,"familyName"],[98,70,67,68],[98,72,67,70],[98,73,67,71],[99,10,68,8],[100,10,69,8],[100,17,69,15],[100,18,69,16,"familyName"],[100,28,69,26],[100,30,69,28,"tf"],[100,32,69,30],[100,33,69,31],[101,8,70,6],[101,9,70,7],[101,10,70,8],[102,6,71,4],[102,7,71,5],[102,8,71,6],[103,4,72,2],[103,5,72,3],[103,6,72,4],[104,4,73,2],[104,11,73,9,"Promise"],[104,18,73,16],[104,19,73,17,"all"],[104,22,73,20],[104,23,73,21,"promises"],[104,31,73,29],[104,32,73,30],[105,2,74,0],[105,3,74,1],[106,2,75,7],[106,8,75,13,"useFonts"],[106,16,75,21],[106,19,75,24,"sources"],[106,26,75,31],[106,30,75,35],[107,4,76,2],[107,10,76,8],[107,11,76,9,"fontMgr"],[107,18,76,16],[107,20,76,18,"setFontMgr"],[107,30,76,28],[107,31,76,29],[107,34,76,32],[107,38,76,32,"useState"],[107,44,76,40],[107,45,76,40,"useState"],[107,53,76,40],[107,55,76,41],[107,59,76,45],[107,60,76,46],[108,4,77,2],[108,8,77,2,"useEffect"],[108,14,77,11],[108,15,77,11,"useEffect"],[108,24,77,11],[108,26,77,12],[108,32,77,18],[109,6,78,4,"loadTypefaces"],[109,19,78,17],[109,20,78,18,"sources"],[109,27,78,25],[109,28,78,26],[109,29,78,27,"then"],[109,33,78,31],[109,34,78,32,"result"],[109,40,78,38],[109,44,78,42],[110,8,79,6],[110,14,79,12,"fMgr"],[110,18,79,16],[110,21,79,19,"Skia"],[110,26,79,23],[110,27,79,23,"Skia"],[110,31,79,23],[110,32,79,24,"TypefaceFontProvider"],[110,52,79,44],[110,53,79,45,"Make"],[110,57,79,49],[110,58,79,50],[110,59,79,51],[111,8,80,6,"result"],[111,14,80,12],[111,15,80,13,"forEach"],[111,22,80,20],[111,23,80,21],[111,24,80,22],[111,25,80,23,"familyName"],[111,35,80,33],[111,37,80,35,"typeface"],[111,45,80,43],[111,46,80,44],[111,51,80,49],[112,10,81,8,"fMgr"],[112,14,81,12],[112,15,81,13,"registerFont"],[112,27,81,25],[112,28,81,26,"typeface"],[112,36,81,34],[112,38,81,36,"familyName"],[112,48,81,46],[112,49,81,47],[113,8,82,6],[113,9,82,7],[113,10,82,8],[114,8,83,6,"setFontMgr"],[114,18,83,16],[114,19,83,17,"fMgr"],[114,23,83,21],[114,24,83,22],[115,6,84,4],[115,7,84,5],[115,8,84,6],[116,6,85,4],[117,4,86,2],[117,5,86,3],[117,7,86,5],[117,9,86,7],[117,10,86,8],[118,4,87,2],[118,11,87,9,"fontMgr"],[118,18,87,16],[119,2,88,0],[119,3,88,1],[120,0,88,2],[120,3]],"functionMap":{"names":["<global>","useFont","useMemo$argument_0","slant","weight","matchFont","listFontFamilies","Array.fill.map$argument_0","loadTypefaces","Object.keys.flatMap$argument_0","typefacesToLoad.familyName.map$argument_0","Skia.Data.fromURI.then$argument_0","useFonts","useEffect$argument_0","loadTypefaces.then$argument_0","result.forEach$argument_0"],"mappings":"AAA;uBCW;iBCE;GDM;CDC;cGO;CHQ;eIC;CJS;yBKC;CLY;gCMC,oFC,kCD,CN;sBQC;wDCC;2CCC;2ECC;ODM;KDC;GDC;CRE;wBYC;YCE;gCCC;qBCE;ODE;KDE;GDE;CZE"},"hasCjsExports":false},"type":"js/module"}]}